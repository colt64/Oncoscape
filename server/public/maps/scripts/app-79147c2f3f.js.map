{"version":3,"sources":["scripts/app-79147c2f3f.js"],"names":["angular","module","tools","ToolsController","osApi","$state","vm","this","name","route","img","explore","tool","datasource","go","$inject","directive","restrict","templateUrl","controller","controllerAs","bindToController","timelines","TimelinesController","$stateParams","$scope","$sce","toggleFilter","$","toggleClass","setBusy","setDataset","then","response","getTimelines","payload","eventTypes","events","pts","PcaController","$timeout","d3","geneSets","geneSet","elChart","d3Chart","select","mtx","rownames","filter","v","indexOf","length","replace","setBusyMessage","getPCA","getGeneSetNames","$watch","update","getCalculatedPCA","pc1","pc2","draw","scores","dataset","padding","width","height","remove","xMax","max","d","xMin","min","yMax","yMin","xScale","scale","linear","domain","range","yScale","xTranslationForYAxis","yTranslationForXAxis","xAxis","svg","axis","orient","ticks","yAxis","tooltip","append","attr","style","text","d3brush","brush","x","y","on","currentlySelectedRegion","extent","x0","x1","Math","abs","selectedIDs","identifyEntitiesInCurrentSelection","stroke","stroke-width","fill","call","font-size","text-anchor","selectAll","data","enter","i","currentIdentifiers","event","pageY","pageX","pathways","PathwaysController","getStyle","darkblue","red","purple","green","selector","content","text-valign","text-halign","shape","color","background-color","border-width","border-color","line-color","line-style","target-arrow-shape","target-arrow-color","display","overlay-opacity","overlay-color","border-style","source-arrow-shape","source-arrow-color","markersNetwork","search","frame","tip","csChart","undefined","term","toUpperCase","len","nodes","map","ele","eles","unselect","substr","getPathway","fromJson","cytoscape","container","elements","layout","fit","e","modal","url","cyTarget","id","$apply","trustAsResourceUrl","pmid","source","PlsrController","deathMinFilter","deathMinValue","deathMaxFilter","deathMaxValue","survivalMinFilter","survivalMinValue","survivalMaxFilter","survivalMaxValue","chart","create","vectors","genes","circles","lines","nAbs","lr","console","log","pt","mouse","item","transition","duration","each","delay","margin","top","right","bottom","left","getPLSR","getSummarizedPLSRPatientAttributes","floor","AgeDx","Survival","animate","factors","low","Number","high","getCalculatedPLSR","loadings","index","collection","loadingNames","vectorNames","maxValue","osState","getUser","password","authenticated","token","service","oncoscape","SockJS","$rootScope","$q","$log","callbacks","requestId","getRequestId","socket","debug","devel","onmessage","isDefined","cmd","callback","resolve","error","request","status","deferred","defer","readyState","onopen","send","toJson","promise","value","window","factory","osSocket","$http","login","user","req","method","username","res","success","setIFrame","show","hide","getDomains","dataPackage","getDataSetNames","getDataManifest","getPatientHistoryTable","datasetName","durationFormat","getPatientHistoryDxAndSurvivalMinMax","getSampleDataFrame","getSampleCategorizationNames","getSampleCategorization","names","getMarkersNetwork","getDrugGeneInteractions","getCanonicalizePatientIDsInDataset","getGeneSetGenes","getOncoprintDataSelection","matrixName","factorCount","attrs","getCalculatedSurvivalCurves","getCalculatedTimelines","getModuleModificationDate","getMrnaData","entities","features","getCnvData","getMutationData","MetadataController","colnames","rows","dtTable","dataTable","paging","api","markers","MarkersController","signals","blue","black","white","gray","styles","border-opacity","label","text-background-color","text-background-opacity","text-background-shape","optInteractiveModesFactory","geneOver","Signal","geneOut","geneClick","patientOver","patientOut","patientClick","removeAll","over","add","out","click","dispatch","states","register","unregister","nodeType","patient","patientChromosomes","neighborhood","ds","cbioDsName","n","join","open","next","prev","optNodeColorsFactory","fn","legandNodes","tbl","s","p","split","forEach","optNodeColors","concat","age","optNodeColor","optEdgeColorsFactory","edgeColor","el","state","css","class","optPatientLayoutsFatory","optPatientLayout","position","pos","xMale","xFemale","toLowerCase","optInteractiveModes","optInteractiveMode","optPatientLayouts","optEdgeColors","legandPatient","legandChromosomes","array","scope","LoginController","domains","hasError","landing","LandingController","history","HistoryController","applyFilter","element","DataTable","ext","settings","dataIndex","alive","parseFloat","death","isNaN","scrollY","header","HeaderController","footer","FooterController","filters","FiltersController","tree","root","reverse","links","depth","node","nodeEnter","parent","link","target","insert","diagonal","children","size","projection","DatasourceController","datasets","CompareController","runBlock","$on","toState","toParams","fromState","fromParams","options","run","routerConfig","$stateProvider","$urlRouterProvider","template","otherwise","config","constant","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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","file":"scripts/app-79147c2f3f.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('oncoscape', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ui.bootstrap','ui-rangeSlider','toastr']);\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osTools', tools);\n\n    /** @ngInject */\n    function tools() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/tools/tools.html',\n            controller: ToolsController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function ToolsController(osApi, $state) {\n            var vm = this;\n            vm.tools = [\n                {name:'Markers + Patients', route:'markers', img:'markers.png'},\n                {name:'Pathways', route:'pathways', img:'pathways.png'},\n                {name:'Partial Least Squares Regression (PLSR)', route:'plsr', img:'plsr.png'},\n                {name:'Principal Components Analysis (PCA)', route:'pca', img:'pca.png'},\n                {name:'Patient History', route:'history', img:'history.png'},\n                {name:'MetaData', route:'metadata', img:'MetaData.png'},\n                {name:'Timelines', route:'timelines', img:'tool.png'}\n            ];\n            vm.explore = function(tool, datasource){\n                $state.go(tool, {datasource:datasource});\n            };\n        }\n    }\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osTimelines', timelines);\n\n    /** @ngInject */\n    function timelines() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/timelines/timelines.html',\n            controller: TimelinesController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function TimelinesController(osApi, $state, $stateParams, $scope, $sce) {\n\n            // View Model\n            var vm = this;\n            vm.datasource = $stateParams.datasource || \"DEMOdz\";\n\n            // VM Event Handlers\n            vm.toggleFilter = function() {\n                $(\".container-filters\").toggleClass(\"container-filters-collapsed\");\n                $(\".container-filter-toggle\").toggleClass(\"container-filter-toggle-collapsed\");\n            }\n\n            // Elements\n            var elChart = $(\"#plsr-chart\");\n\n            osApi.setBusy(true)(\"Loading Dataset\");\n            osApi.setDataset(vm.datasource).then(function(response) {\n                osApi.getTimelines().then(function(response){\n                    var payload = response.payload;\n                    var eventTypes = payload.eventTypes;\n                    var events = payload.events;\n                    var patients = payload.pts;\n\n                    \n\n// var data = [\n//   {label: \"person a\", times: [\n//     {\"starting_time\": 1355752800000, \"ending_time\": 1355759900000},\n//     {\"starting_time\": 1355767900000, \"ending_time\": 1355774400000}]},\n//   {label: \"person b\", times: [\n//     {\"starting_time\": 1355759910000, \"ending_time\": 1355761900000}]},\n//   {label: \"person c\", times: [\n//     {\"starting_time\": 1355761910000, \"ending_time\": 1355763910000}]},\n//   ];\n// { var chart = d3.timeline();\n//  var svg = d3.select(\"#timelines-chart\").append(\"svg\").attr(\"width\",500)\n//  .datum(data).call(chart);}\n\n                    osApi.setBusy(false);\n                });\n            });\n\n        }\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osPca', explore);\n\n    /** @ngInject */\n    function explore() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/pca/pca.html',\n            controller: PcaController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function PcaController(osApi, $state, $stateParams, $timeout, $scope, d3) {\n\n            // State\n            var vm = this;\n            vm.datasource = $stateParams.datasource || \"DEMOdz\";\n            vm.geneSets = [];\n            vm.geneSet = null;\n            vm.toggleFilter = function(){\n                $(\".container-filters\").toggleClass(\"container-filters-collapsed\");\n                $(\".container-filter-toggle\").toggleClass(\"container-filter-toggle-collapsed\");\n            }\n\n            // Elements\n            var elChart = $(\"#pca-chart\");\n            var d3Chart = d3.select(\"#pca-chart\");\n\n            // Initalizae\n            osApi.setBusy(true)(\"Loading Dataset\");\n            osApi.setDataset(vm.datasource).then(function(response) {\n\n                var mtx = response.payload.rownames.filter(function(v){return v.indexOf(\"mtx.mrna\")>=0});\n\n                mtx = mtx[mtx.length-1].replace(\".RData\",\"\");\n                osApi.setBusyMessage(\"Creating PCA Matrix\");\n                osApi.getPCA(vm.datasource, mtx).then(function(response) {\n                    osApi.setBusyMessage(\"Loading Gene Sets\");\n                    osApi.getGeneSetNames().then(function(response) {\n\n                        // Load Gene Sets\n                        vm.geneSets = response.payload;\n                        vm.geneSet = vm.geneSets[0];\n                        $scope.$watch('vm.geneSet', function() {\n                            update();\n                        });\n                    });\n                });\n            });\n\n            // API Call To Calculate PCA\n            var update = function() {\n                osApi.setBusyMessage(\"Calculating PCA\");\n                osApi.getCalculatedPCA(vm.geneSet).then(function(response) {\n                    osApi.setBusyMessage(\"Rendering PCA\");\n                    var payload = response.payload;\n                    vm.pc1 = response.payload[\"importance.PC1\"];\n                    vm.pc2 = response.payload[\"importance.PC2\"];\n\n                    draw(payload.scores)\n\n                    osApi.setBusy(false);\n                });\n            };\n\n            // Render\n            var draw = function(dataset) {\n\n                var padding = 70;\n                var width = elChart.width();\n                var height = elChart.height();\n\n                d3Chart.select(\"#chart\").remove();\n\n                var xMax = d3.max(dataset, function(d) {\n                    return +d[0];\n                }) * 1.1;\n                var xMin = d3.min(dataset, function(d) {\n                    return +d[0];\n                }) * 1.1;\n                var yMax = d3.max(dataset, function(d) {\n                    return +d[1];\n                }) * 1.1;\n                var yMin = d3.min(dataset, function(d) {\n                    return +d[1];\n                }) * 1.1;\n\n                var xScale = d3.scale.linear()\n                    .domain([xMin, xMax])\n                    .range([padding, width - padding]);\n\n                var yScale = d3.scale.linear()\n                    .domain([yMin, yMax])\n                    .range([height - padding, padding]); // note inversion \n\n                var xTranslationForYAxis = xScale(0);\n                var yTranslationForXAxis = yScale(0);\n\n                var xAxis = d3.svg.axis()\n                    .scale(xScale)\n                    .orient(\"top\")\n                    .ticks(5);\n\n                var yAxis = d3.svg.axis()\n                    .scale(yScale)\n                    .orient(\"left\")\n                    .ticks(5);\n\n                var tooltip = d3Chart.append(\"div\")\n                    .attr(\"data-toggle\", \"tooltip\")\n                    .style(\"position\", \"absolute\")\n                    .style(\"z-index\", \"10\")\n                    .style(\"visibility\", \"hidden\")\n                    .text(\"a simple tooltip\");\n\n                var d3brush = d3.svg.brush()\n                    .x(xScale)\n                    .y(yScale)\n                    .on(\"brushend\", function() {\n                        var currentlySelectedRegion = d3brush.extent();\n                        var x0 = currentlySelectedRegion[0][0];\n                        var x1 = currentlySelectedRegion[1][0];\n                        var width = Math.abs(x0 - x1);\n                        selectedIDs = identifyEntitiesInCurrentSelection();\n                    });\n\n                var svg = d3Chart.append(\"svg\")\n                    .attr(\"id\", \"chart\")\n                    .attr(\"width\", width)\n                    .attr(\"height\", height);\n                //.call(d3PlotBrush);\n\n                svg.append(\"g\")\n                    .attr(\"class\", \"x axis\")\n                    .attr(\"transform\", \"translate(0, \" + yTranslationForXAxis + \")\")\n                    .style({\n                        'stroke': '#1396de',\n                        'stroke-width' : '1px',\n                         'fill': 'none'\n                    })\n                    .call(xAxis)\n                    .append(\"text\")\n                    .style({\n                        \"font-size\":14,\n                        'fill':'#1396de',\n                        'stroke': 'none'\n                    })\n                    .text(\"PC1\");\n\n                svg.append(\"g\")\n                    .attr(\"class\", \"y axis\")\n                    .attr(\"transform\", \"translate(\" + xTranslationForYAxis + \", 0)\")\n                    .style({\n                        'stroke': '#1396de',\n                        'stroke-width' : '1px',\n                         'fill': 'none'\n                    })\n                    .call(yAxis)\n                    .append(\"text\")\n                    .attr(\"y\", 10)\n                    .attr(\"dy\", \".71em\")\n                     .style({\n                        'font-size':14,\n                        'fill':'#1396de',\n                        'stroke': 'none',\n                        'text-anchor': 'end'\n                    })\n                    .text(\"PC2\");\n\n                svg.append(\"g\").selectAll(\"circle\")\n                    .data(dataset)\n                    .enter()\n                    .append(\"circle\")\n                    .attr(\"cx\", function(d, i) {\n                        return xScale(d[0]);\n                    })\n                    .attr(\"cy\", function(d, i) {\n                        return yScale(d[1]);\n                    })\n                    .attr(\"r\", function(d) {\n                        return 3;\n                    })\n                    .style(\"fill\", \"#000\")\n                    .on(\"mouseover\", function(d, i) {\n                        tooltip.text(currentIdentifiers[i]);\n                        return tooltip.style(\"visibility\", \"visible\");\n                    })\n                    .on(\"mousemove\", function() {\n                        return tooltip.style(\"top\", (d3.event.pageY - 10) + \"px\").style(\"left\", (d3.event.pageX + 10) + \"px\");\n                    })\n                    .on(\"mouseout\", function() {\n                        return tooltip.style(\"visibility\", \"hidden\");\n                    });\n            };\n        }\n    }\n})();\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osPathways', pathways);\n\n    /** @ngInject */\n    function pathways() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/pathways/pathways.html',\n            controller: PathwaysController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function PathwaysController(osApi, $state, $stateParams, $scope, $sce) {\n            var markersNetwork;\n            var vm = this;\n            vm.datasource = $stateParams.datasource || \"DEMOdz\";\n            vm.toggleFilter = function(){\n                $(\".container-filters\").toggleClass(\"container-filters-collapsed\");\n                $(\".container-filter-toggle\").toggleClass(\"container-filter-toggle-collapsed\");\n            }\n            vm.search = \"\";\n            vm.frame;\n            vm.tip = null;\n\n            // Elements\n            var elChart = $(\"#gbm-chart\");\n            var csChart;\n\n            $scope.$watch('vm.search', function(){\n                if (csChart === undefined) return;\n                var term = vm.search.toUpperCase();\n                var len = term.length;\n                csChart.nodes().map( function(ele, i, eles){\n                    if (len==0){\n                        ele.unselect();\n                    }\n                    else if (ele.attr(\"name\").substr(0,len)===term){\n                        ele.select();\n                    }\n                    else{\n                        ele.unselect();\n                    }\n                });\n\n            });\n\n            // Load Datasets\n            osApi.setBusy(true);\n            osApi.setDataset(vm.datasource).then(function(response) {\n                osApi.getPathway().then(function(response) {\n\n                    markersNetwork = angular.fromJson(response.payload);\n                    csChart = cytoscape({\n                        container: elChart,\n                        elements: markersNetwork.elements,\n                        style: getStyle(),\n                        layout: {\n                            name: \"preset\",\n                            fit: true\n                        }\n                    })\n                    .on('select', 'node', function(e){\n                        $('#gbm-webpage').modal();\n                        var url = \"http://www.genecards.org/cgi-bin/carddisp.pl?gene=\"+e.cyTarget.data().id;\n                        $scope.$apply(function() {\n                            vm.frame = $sce.trustAsResourceUrl(url);\n                        });\n                        \n                    })\n                    .on('select', 'edge', function(e) {\n                        $('#gbm-webpage').modal();\n                        var url = \"http://www.ncbi.nlm.nih.gov/pubmed/?term=\" + e.cyTarget.data().pmid;\n                        $scope.$apply(function() {\n                            vm.frame = $sce.trustAsResourceUrl(url);\n                        });\n\n                    }).on('mouseover', 'edge', function(e){\n                        $scope.$apply(function() {\n                            vm.tip = e.cyTarget.data().source+ \" Extract\";\n                        });\n                        \n                        e.cyTarget.style({ 'width': '4px'});\n                    }).on('mouseout', 'edge', function(e){\n                        $scope.$apply(function() {\n                            vm.tip = null;\n                        });\n                        e.cyTarget.style({ 'width': '2px'});\n                    }).on('mouseover', 'node', function(e){\n                        $scope.$apply(function() {\n                            vm.tip = e.cyTarget.data().name+ \" Gene Card\";\n                        });\n                    }).on('mouseout', 'node', function(e){\n                        $scope.$apply(function() {\n                            vm.tip = null;\n                        });\n                    })\n\n                     \n\n                    osApi.setBusy(false);\n                });\n            });\n\n\n            function getStyle() {\n                var darkblue = 'rgb(5, 108, 225)';\n                var black = 'black';\n                var blue = 'rgb(19, 150, 222)';\n                var red = 'red';//rgb(230, 44, 28)';\n                var purple = 'rgb(56, 52,123)';\n                var green = 'green';//'rgb(56, 52,123)';//'rgb(28, 230,116)';//'green';\n                var orange = 'rgb(255, 152, 0)';\n                return [\n                    {\n                        'selector': 'node',\n                        'style': {\n                            'content': 'data(label)',\n                            'text-valign': 'center',\n                            'text-halign': 'center',\n                            'shape': 'ellipse',\n                            'width': '60px',\n                            'height': '50px',\n                            'color':darkblue,\n                            'background-color': 'rgb(250, 250, 250)',\n                            'border-width': '2px',\n                            'border-color': darkblue\n                            \n                        }\n                    },\n                    {\n                        'selector': 'edge',\n                        'style': {\n                            'width': '2px',\n                            'line-color': darkblue,\n                            'line-style': 'solid'\n                        }\n                    },\n                    // Boxes\n                    {\n                        'selector': 'node[nodeType=\"class\"], node[nodeType=\"family\"], node[nodeType=\"complex\"]',\n                        'style': {\n                            'content': '',\n                            'background-color': 'white',\n                            'shape': 'roundrectangle'\n                            \n                        }\n                    },\n                    // Blue Activiates & Indirect Activates\n                    {\n                        'selector': 'edge[edgeType=\"activates\"], edge[edgeType=\"indirectly activates\"]',\n                        'style': {\n                            'line-color': green,\n                            'target-arrow-shape': 'triangle',\n                            'target-arrow-color': green\n                        }\n                    }, \n                    // Inhibits & Ubiquitinylates\n                    {\n                        'selector': 'edge[edgeType=\"inhibits\"], edge[edgeType=\"ubiquitinylates\"]',\n                        'style': {\n                            'line-color': red,\n                            'target-arrow-shape': 'tee',\n                            'target-arrow-color': red\n                        }\n                    }, \n                    // Fusion\n                    {\n                        'selector': 'edge[edgeType=\"fusion\"]',\n                        'style': {\n                            'line-color': green\n                        }\n                    },\n                    // Hide\n                    {\n                        'selector': 'edge[edgeType=\"contains\"]',\n                        'style': {\n                            'display':'none'\n                        }\n                    }, \n                    {\n                        'selector': 'node[nodeType=\"process\"]',\n                        'style':{}\n                    },\n                    {\n                        'selector': 'node:selected',\n                        'style': {\n                             'overlay-opacity': '0.5',\n                             'overlay-color': 'red'\n                        }\n                    }, \n\n                    // Legacy ... Not sure if it's being used\n                    {\n                    'selector': 'node[nodeType=\"rtk\"]',\n                    'style': {\n                        'content': 'data(label)',\n                        'background-color': 'rgb(224, 209, 178)',\n                        'border-color': 'black',\n                        'border-width': '0px',\n                        'font-size': '48px',\n                        'shape': 'roundrectangle',\n                        'width': '40px',\n                        'height': '160px'\n                    }\n                }, {\n                    'selector': 'node[nodeType=\"kinase\"]',\n                    'style': {\n                        'content': 'data(label)',\n                        'background-color': 'rgb(255, 206, 194)',\n                        'shape': 'ellipse',\n                        'width': '160px',\n                        'height': '120px',\n                        'font-size': '48px',\n                        'border-color': 'black',\n                        'border-width': '1px'\n                    }\n                }, {\n                    'selector': 'node[nodeType=\"dimer\"]',\n                    'style': {\n                        'content': '',\n                        'background-color': 'rgb(234, 219, 188)',\n                        'shape': 'ellipse',\n                        'width': '160px',\n                        'height': '120px',\n                        'font-size': '48px',\n                        'border-color': 'black',\n                        'border-width': '0px'\n                    }\n                }, {\n                    'selector': 'node[nodeType=\"loop\"]',\n                    'style': {\n                        'content': '',\n                        'background-color': 'rgb(255, 255, 255)',\n                        'shape': 'ellipse',\n                        'width': '160px',\n                        'height': '120px',\n                        'font-size': '48px',\n                        'border-color': 'black',\n                        'border-width': '1px',\n                        'border-style': 'dotted'\n                    }\n                }, {\n                    'selector': 'node[nodeType=\"gtpase\"]',\n                    'style': {\n                        'content': 'data(label)',\n                        'background-color': 'rgb(194, 194, 255)',\n                        'shape': 'ellipse',\n                        'width': '160px',\n                        'height': '120px',\n                        'font-size': '48px',\n                        'border-color': 'black',\n                        'border-width': '1px'\n                    }\n                }, {\n                    'selector': 'node[nodeType=\"adaptor\"]',\n                    'style': {\n                        'content': 'data(label)',\n                        'background-color': 'rgb(77, 184, 255)',\n                        'shape': 'ellipse',\n                        'width': '60px',\n                        'height': '120px',\n                        'font-size': '48px',\n                        'border-color': 'black',\n                        'border-width': '1px'\n                    }\n                }, {\n                    'selector': 'node[nodeType=\"GEF\"]',\n                    'style': {\n                        'content': 'data(label)',\n                        'background-color': 'rgb(77, 184, 255)',\n                        'shape': 'ellipse',\n                        'width': '60px',\n                        'height': '60px',\n                        'font-size': '48px',\n                        'border-color': 'black',\n                        'border-width': '1px'\n                    }\n                },{\n                    'selector': 'node[nodeType=\"process\"]',\n                    'style': {\n                        'content': 'data(label)',\n                        'background-color': 'rgb(255, 255, 255)',\n                        'shape': 'roundrectangle',\n                        'width': '100px',\n                        'height': '40px',\n                        'font-size': '24px',\n                        'border-color': 'black',\n                        'border-width': '0px'\n                    }\n                }, {\n                    'selector': 'node[nodeType=\"TF\"]',\n                    'style': {\n                        'content': 'data(label)',\n                        'background-color': 'rgb(255, 206, 94)',\n                        'shape': 'diamond',\n                        'width': '160px',\n                        'height': '60px',\n                        'font-size': '48px',\n                        'border-color': 'black',\n                        'border-width': '1px'\n                    }\n                }, {\n                    'selector': 'node[nodeType=\"gene fusion\"]',\n                    'style': {\n                        'content': 'data(label)',\n                        'shape': 'roundrectangle',\n                        'font-size': '24px',\n                        'border-color': 'red',\n                        'border-width': '3px'\n                    }\n                }, {\n                    'selector': 'edge:selected',\n                    'style': {\n                        'overlay-color': 'grey',\n                        'overlay-opacity': '0.3'\n                    }\n                },  {\n                    'selector': 'edge[edgeType=\"recruits\"]',\n                    'style': {\n                        'width': '2px'\n                    }\n                }, {\n                    'selector': 'edge[edgeType=\"fusion\"]',\n                    'style': {\n                        'line-color': purple\n                    }\n                },\n                 {\n                    'selector': 'edge[edgeType=\"recruits\"]',\n                    'style': {\n                        'line-color': 'red',\n                        'width': '1px',\n                        'line-style': 'dashed',\n                        'target-arrow-shape': 'triangle',\n                        'target-arrow-color': 'black'\n                    }\n                }, {\n                    'selector': 'edge[edgeType=\"cycles\"]',\n                    'style': {\n                        'line-color': 'black',\n                        'width': '1px',\n                        'line-style': 'dashed',\n                        'target-arrow-shape': 'triangle',\n                        'source-arrow-shape': 'triangle',\n                        'target-arrow-color': 'green',\n                        'source-arrow-color': 'red'\n                    }\n                }, {\n                    'selector': 'edge[edgeType=\"associates\"]',\n                    'style': {\n                        'line-color': 'black',\n                        'width': '1px',\n                        'line-style': 'solid'\n                    }\n                }, {\n                    'selector': 'edge[edgeType=\"activation\"]',\n                    'style': {\n                        'line-color': 'green',\n                        'width': '1px'\n                    }\n                }, {\n                    'selector': 'edge[edgeType=\"inhibition\"]',\n                    'style': {\n                        'line-color': 'red',\n                        'width': '1px'\n                    }\n                }\n                ]\n\n            }\n        }\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osPlsr', explore);\n\n    /** @ngInject */\n    function explore() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/plsr/plsr.html',\n            controller: PlsrController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function PlsrController(osApi, $state, $stateParams, $timeout, $scope, d3) {\n\n            // View Model\n            var vm = this;\n            vm.datasource = $stateParams.datasource || \"DEMOdz\";\n            vm.deathMinFilter = vm.deathMinValue = 45;\n            vm.deathMaxFilter = vm.deathMaxValue = 66;\n            vm.survivalMinFilter = vm.survivalMinValue = 3;\n            vm.survivalMaxFilter = vm.survivalMaxValue = 7;\n            vm.geneSets = [];\n            vm.geneSet = null;\n\n            // VM Event Handlers\n            vm.toggleFilter = function() {\n                $(\".container-filters\").toggleClass(\"container-filters-collapsed\");\n                $(\".container-filter-toggle\").toggleClass(\"container-filter-toggle-collapsed\");\n            }\n            vm.update = function() {\n                update(true);\n            };\n\n            // Elements\n            var elChart = $(\"#plsr-chart\");\n\n            // Chart\n            var chart = (function(selector){\n\n\n              // Size\n              var margin = {top: 20,right: 20,bottom: 30,left: 40};\n              var width = elChart.width() - margin.left - margin.right;\n              var height = elChart.height() - margin.top - margin.bottom;\n\n              var svg = d3.select(\"#plsr-chart\").append(\"svg\")\n                .attr(\"id\", \"chart\")\n                .attr(\"width\", width)\n                .attr(\"height\", height);\n\n              var tooltip = svg.append(\"div\")\n                .style(\"position\", \"absolute\")\n                .style(\"z-index\", \"10\")\n                .style(\"visibility\", \"hidden\");\n\n              var lines, circles, text;\n              var xScale, yScale, xAxis, yAxis;\n              function create(abs, vectors, genes){\n                try {circles.remove();}catch(e){}\n                try {lines.remove();}catch(e){}\n                var nAbs = -1.0 * abs;\n                xScale = d3.scale.linear().domain([nAbs, abs]).range([0, width])\n                yScale = d3.scale.linear().domain([nAbs, abs]).range([height, 0])\n                xAxis = d3.svg.axis().scale(xScale).orient(\"bottom\").ticks(5);\n                yAxis = d3.svg.axis().scale(yScale).orient(\"left\").ticks(5);\n                text = svg.selectAll(\"text\")\n                  .data(vectors)\n                  .enter().append(\"text\")\n                  .attr(\"class\", \"text\")\n                  .attr(\"x\", function(v) { return xScale(v[0]); })\n                  .attr(\"y\", function(v) { return yScale(v[1]); })\n                  .text( function(v, i) {return v.name;})\n                  .attr(\"text-anchor\", \n                    function (v){\n                      var lr = (v[0]>0) ? \"start\" : \"end\";\n                      console.log(lr);\n                      return lr;\n                    })\n                  .style(\"fill\", \"black\");\n                lines = svg.selectAll(\"line\")\n                  .data(vectors)\n                  .enter()\n                  .append(\"line\")\n                  .attr(\"class\", \"line\")\n                  .style(\"stroke-width\", 3)\n                  .style(\"stroke\", function(d, i){\n                    return (d.name.indexOf(\"Age\")) ? \"#1396de\" : \"#38347b\"\n                  })\n                  .attr(\"x1\", xScale(0))\n                  .attr(\"y1\", yScale(0))\n                  .attr(\"x2\", function(v) {\n                      return xScale(v[0]);\n                  })\n                  .attr(\"y2\", function(v) {\n                      return yScale(v[1]);\n                  });\n                circles = svg.selectAll(\"circle\")\n                  .data(genes)\n                  .enter()\n                  .append(\"circle\")\n                  .attr(\"cx\", function(d, i) {\n                      return xScale(d[0]);\n                  })\n                  .attr(\"cy\", function(d, i) {\n                      return yScale(d[1]);\n                  })\n                  .attr(\"r\", function(d) {\n                      return 3;\n                  })\n                  .style(\"fill\", 'black')\n                  .on(\"mouseover\", function(d, i) {\n                      var pt = d3.mouse(this);\n                      tooltip\n                          .text(d.name)\n                          .style(\"top\", (pt[1] + 160) + \"px\")\n                          .style(\"left\", (pt[0] + 10) + \"px\")\n                          .style(\"visibility\", \"visible\");\n                  })\n                  .on(\"mousemove\", function(item) {\n                      var pt = d3.mouse(this);\n                      tooltip\n                          .style(\"top\", (pt[1] + 160) + \"px\")\n                          .style(\"left\", (pt[0] + 10) + \"px\");\n                  })\n                  .on(\"mouseout\", function() {\n                      return tooltip.style(\"visibility\", \"hidden\");\n                  });\n              }\n\n              function update(abs, vectors, genes){\n              \n                text\n                  .data(vectors)\n                  .transition()\n                  .duration(900)\n                  .attr(\"x\", function(v) { return xScale(v[0]); })\n                  .attr(\"y\", function(v) { return yScale(v[1]); })\n\n\n                lines\n                  .data(vectors)\n                  .transition()\n                  .duration(900)\n                  .attr(\"x1\", xScale(0))\n                  .attr(\"y1\", yScale(0))\n                  .attr(\"x2\", function(v) {\n                      return xScale(v[0]);\n                  })\n                  .attr(\"y2\", function(v) {\n                      return yScale(v[1]);\n                  });\n               \n\n                circles\n                  .data(genes)  // Update with new data\n                  .transition()\n                  .duration(900)\n                   .each(\"start\", function() {  // Start animation\n                      d3.select(this)  // 'this' means the current element\n                          //.style(\"fill\", \"000\")  // Change color\n                          //.attr(\"r\", 2);  // Change size\n                  })\n                  .delay(function(d, i) {\n                      return i / genes.length * 500;  // Dynamic delay (i.e. each item delays a little longer)\n                  })\n                  //.ease(\"linear\")  // Transition easing - default 'variable' (i.e. has acceleration), also: 'circle', 'elastic', 'bounce', 'linear'\n                  .attr(\"cx\", function(d) {\n                      return xScale(d[0]);  // Circle's X\n                  })\n                  .attr(\"cy\", function(d) {\n                      return yScale(d[1]);  // Circle's Y\n                  })\n                  .each(\"end\", function() {  // End animation\n                      d3.select(this)  // 'this' means the current element\n                          .transition()\n                          .duration(500)\n                          .style(\"fill\", \"black\")  // Change color\n                          .attr(\"r\", 3);  // Change radius\n                  });\n              }\n\n\n\n              return{\n                create: create,\n                update: update\n\n              }\n            })(\"#plsr-chart\");\n\n\n\n\n            // Load Data\n            osApi.setBusy(true)(\"Loading Dataset\");\n            osApi.setDataset(vm.datasource).then(function(response) {\n                var mtx = response.payload.rownames.filter(function(v) {\n                    return v.indexOf(\"mtx.mrna\") >= 0\n                });\n                mtx = mtx[mtx.length - 1].replace(\".RData\", \"\");\n                osApi.setBusyMessage(\"Creating PLSR Matrix\");\n                osApi.getPLSR(vm.datasource, mtx).then(function(response) {\n                    osApi.setBusyMessage(\"Loading Gene Sets\");\n                    osApi.getGeneSetNames().then(function(response) {\n\n                        // Load Gene Sets\n                        vm.geneSets = response.payload;\n                        vm.geneSet = vm.geneSets[0];\n                        osApi.setBusyMessage(\"Loading Patients\");\n                        osApi.getSummarizedPLSRPatientAttributes().then(function(response) {\n\n                            // Load Min Max Values\n                            var payload = response.payload;\n                            vm.deathMinValue = Math.floor(payload.AgeDx[0] / 365.24);\n                            vm.deathMaxValue = Math.floor(payload.AgeDx[4] / 365.24);\n                            vm.survivalMinValue = Math.floor(payload.Survival[0] / 365.24);\n                            vm.survivalMaxValue = Math.floor(payload.Survival[4] / 365.24);\n                            $scope.$watch('vm.geneSet', function() {\n                                update(false);\n                            });\n                        });\n                    });\n                });\n            });\n\n\n            // API Call To Calculate PLSR\n            var update = function(animate) {\n              console.log(\"CALC PLSR\");\n                osApi.setBusyMessage(\"Calculating PLSR\");\n                var factors = [{\n                    name: \"Survival\",\n                    low: Number(vm.survivalMinFilter) * 365.24,\n                    high: Number(vm.survivalMaxFilter) * 365.24\n                }, {\n                    name: \"AgeDx\",\n                    low: Number(vm.deathMinFilter) * 365.24,\n                    high: Number(vm.deathMaxFilter) * 365.24\n                }];\n\n                osApi.getCalculatedPLSR(vm.geneSet, factors).then(function(response) {\n\n                    osApi.setBusyMessage(\"Rendering PLSR\");\n\n                    // Clean Up Data\n                    var payload = response.payload;\n                    var genes = payload.loadings.map(function(item, index, collection) {\n                      item.name = payload.loadingNames[index];\n                      return item;\n                    });\n                    var vectors = payload.vectors.map(function(item, index, collection) {\n                      item.name = payload.vectorNames[index];\n                      return item;\n                    });\n                    var abs = payload.maxValue * 1.2;\n                    \n                    \n                    if (animate) chart.update(abs, vectors, genes);\n                    else chart.create(abs, vectors, genes);\n                    osApi.setBusy(false);\n                });\n            };\n          \n        }\n    }\n})();\n\n(function() {\n\t'use strict';\n\n\tangular\n\t\t.module('oncoscape')\n\t\t.service('osState', osState);\n\n\t/** @ngInject */\n\tfunction osState() {\n\t\tthis.getUser = getUser;\n\t\tfunction getUser(){\n\t\t\treturn {\n\t\t\t\t\"name\":\"\",\n\t\t\t\t\"password\":\"\",\n\t\t\t\t\"domain\":{\"name\":\"Guest\"},\n\t\t\t\t\"authenticated\":false,\n\t\t\t\t\"token\": null\n\t\t\t}\n\t\t}\n\t}\n})();\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .value('SockJS', window.SockJS)\n        .factory('osSocket', oncoscape);\n\n    /** @ngInject */\n    function oncoscape(SockJS, $rootScope, $q, $log) {\n       \n        // Object To Store Call Back Promises\n        var callbacks = {};\n\n        // Request Ids Used To Coorelate Request With Callback\n        var requestId = 1;\n        var getRequestId = function() { \n            if (requestId==9999) requestId = 1;\n            return requestId++; \n        }\n\n        // Create Sock JS Instace\n        var socket = new SockJS('http://localhost/oncoscape/', '', {\n            'debug': true,\n            'devel': true\n        });\n\n        // Handle Messages From Socket & Resolve Promise\n        socket.onmessage = function(event) {\n            var data = angular.fromJson(event.data);\n            if (angular.isDefined(callbacks[data.cmd])) {\n                var callback = callbacks[data.cmd];\n                delete callbacks[data.cmd];\n                callback.resolve(data);\n            } else {\n                $log.error(\"Unhandled message: %o\", data);\n            }\n        };\n\n        // Formulate Request\n        var request = function(request) {\n\n            // Add Additional Information To Request Per Chinook Protocol\n            request.callback = getRequestId();\n            request.status = \"request\";\n            request.payload = request.payload || \"\";\n\n            // Store Promise In Callback Object\n            var deferred = $q.defer();\n            callbacks[request.callback] = deferred;\n\n            // Ensure Socket Is Open Before Sending\n            if (socket.readyState===0){\n                socket.onopen = function(){\n                    socket.send(angular.toJson(request));    \n                };\n            }else{\n                socket.send(angular.toJson(request));\n            }\n\n            // Return Promise\n            return deferred.promise.then(function(response) {\n                request.response = response;\n                return response;\n            });\n        }\n\n        // Return Object\n        return {\n            request: request\n        };\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .service('osApi', oncoscape);\n\n    /** @ngInject */\n    function oncoscape(osSocket, $http) {\n\n        // Functions to move during refactor\n        this.setBusy = setBusy;\n        this.setBusyMessage = setBusyMessage;\n        this.setIFrame = setIFrame;\n        this.login = login;\n        this.setDataset = setDataset;\n\n        // Valid functions\n        this.getDomains = getDomains;\n        this.getDataSetNames = getDataSetNames;\n        this.getDataManifest = getDataManifest;\n        this.getPatientHistoryTable = getPatientHistoryTable;\n        this.getPatientHistoryDxAndSurvivalMinMax = getPatientHistoryDxAndSurvivalMinMax;\n        this.getSampleDataFrame = getSampleDataFrame;\n        this.getGeneSetNames = getGeneSetNames;\n        this.getSampleCategorizationNames = getSampleCategorizationNames;\n        this.getSampleCategorization = getSampleCategorization;\n        this.getMarkersNetwork = getMarkersNetwork;\n        this.getPathway = getPathway;\n        this.getDrugGeneInteractions = getDrugGeneInteractions;\n        this.getCanonicalizePatientIDsInDataset = getCanonicalizePatientIDsInDataset;\n        this.getGeneSetGenes = getGeneSetGenes;\n        this.getOncoprintDataSelection = getOncoprintDataSelection;\n        this.getPCA = getPCA;\n        this.getCalculatedPCA = getCalculatedPCA;\n        this.getPLSR = getPLSR;\n        this.getCalculatedPLSR = getCalculatedPLSR;\n        this.getSummarizedPLSRPatientAttributes = getSummarizedPLSRPatientAttributes;\n        this.getCalculatedSurvivalCurves = getCalculatedSurvivalCurves;\n        this.getTimelines = getTimelines;\n        this.getCalculatedTimelines = getCalculatedTimelines;\n        this.getPathway = getPathway;\n        this.getMrnaData = getMrnaData;\n        this.getCnvData = getCnvData;\n        this.getMutationData = getMutationData;\n        this.getModuleModificationDate = getModuleModificationDate;\n\n\n\n        function login(user) {\n            var req = {\n                method: 'POST',\n                url: 'http://localhost/login/',\n                data: {username:user.name, password:user.password, domain:user.domain.name}\n            };\n            return $http(req).then(function(res){\n                if (res.data.success){\n                    user.authenticated = true;\n                    user.token = res.data.token;\n                }else{\n                    user.authenticated = false;\n                    user.token = null;\n                }\n            });\n        }\n        \n        function setIFrame(value){\n            \n        }\n        function setBusy(value){\n\n            if (value){\n                $(\".loader-modal\").show();\n            }else{\n                $(\".loader-modal\").hide();\n            }\n            return setBusyMessage;\n        }\n        function setBusyMessage(value){\n            //console.log(value);\n        }\n\n        function getDomains() {\n            return [\n                {\"name\": \"Guest\"},\n                {\"name\": \"FHCRC\"},\n                {\"name\": \"SCCA\"}\n            ];\n        }\n        function setDataset(dataPackage){\n            return osSocket.request({cmd: \"specifyCurrentDataset\", payload: dataPackage });\n        }\n        function getDataSetNames() {\n            return osSocket.request({cmd: \"getDataSetNames\"});\n        }\n        function getDataManifest(dataPackage) {\n            return osSocket.request({cmd: \"getDataManifest\", payload:dataPackage});\n        }\n        function getPatientHistoryTable(dataPackage) {\n            return osSocket.request({cmd: \"getPatientHistoryTable\", payload:{datasetName: dataPackage, durationFormat: \"byYear\"}});\n        }\n\n        function getPatientHistoryDxAndSurvivalMinMax() {}\n\n        function getSampleDataFrame() {}\n\n        function getGeneSetNames() {\n            return osSocket.request({cmd:\"getGeneSetNames\"});\n        }\n\n        function getSampleCategorizationNames() {\n            return osSocket.request({cmd:'getSampleCategorizationNames'});\n        }\n\n        function getSampleCategorization(names) {\n            return osSocket.request({cmd:'getSampleCategorization', payload:names });\n        }\n\n        function getMarkersNetwork(payload) {\n            // Payload is return From Set DataSource\n            return osSocket.request({cmd:\"getMarkersNetwork\", payload:payload})\n        }\n\n        function getPathway() {}\n\n        function getDrugGeneInteractions() {}\n\n        function getCanonicalizePatientIDsInDataset() {}\n\n        function getGeneSetGenes() {}\n\n        function getOncoprintDataSelection() {}\n\n        function getPCA(dataPackage, matrixName) {\n            var payload = {\n                dataPackage: dataPackage, \n                matrixName: matrixName\n            };\n            return osSocket.request({cmd: \"createPCA\", payload: payload});\n        }\n\n        function getCalculatedPCA(geneSet) {\n            var payload = {genes: geneSet};\n            return osSocket.request({cmd: \"calculatePCA\", payload: payload});\n        }\n\n        function getPLSR(dataPackage, matrixName) {\n            var payload = {\n                dataPackage: dataPackage, \n                matrixName: matrixName\n            };\n            return osSocket.request({cmd: \"createPLSR\", payload: payload});\n        }\n\n        function getCalculatedPLSR(geneSet, factors) {\n            var payload = {\n                genes: geneSet, \n                factorCount: factors.length, \n                factors: factors\n            };\n            return osSocket.request({cmd: \"calculatePLSR\", payload: payload});\n        }\n\n        function getSummarizedPLSRPatientAttributes(attrs) {\n            attrs = attrs || ['AgeDx','Survival'];\n            return osSocket.request({cmd:'summarizePLSRPatientAttributes', payload: attrs});\n        }\n\n        function getCalculatedSurvivalCurves() {}\n\n        function getTimelines() {\n            return osSocket.request({cmd: \"createTimelines\"});\n        }\n\n        function getCalculatedTimelines() {}\n\n        // GBM\n        function getModuleModificationDate(){\n            return osSocket.request({cmd: \"getModuleModificationDate\", payload: 'gbmPathways'});\n        }\n        function getPathway(){\n            return osSocket.request({cmd: \"getPathway\", payload:'g.gbmPathways.json'});\n        }\n        function getMrnaData(entities, features){\n            return osSocket.request({cmd:\"get_mRNA_data\",payload:{entities: entities, features: features}});\n        }\n        function getCnvData(entities, features){\n            return osSocket.request({cmd:\"get_cnv_data\",payload:{entities: entities, features: features}});\n        }\n        function getMutationData(entities, features){\n             return osSocket.request({cmd:\"get_mutation_data\",payload:{entities: entities, features: features}});\n        }\n       \n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osMetadata', explore);\n\n    /** @ngInject */\n    function explore() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/metadata/metadata.html',\n            controller: MetadataController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function MetadataController(osApi, $state, $timeout, $scope, $stateParams) {\n\n\n            // View Model\n            var vm = this;\n            vm.dataset = $stateParams.datasource || \"DEMOdz\";\n            vm.colnames = [];\n            vm.rows = [];\n            vm.search = \"\";\n            vm.toggleFilter = function(){\n                $(\".container-filters\").toggleClass(\"container-filters-collapsed\");\n                $(\".container-filter-toggle\").toggleClass(\"container-filter-toggle-collapsed\");\n            }\n\n            // Elements\n            var dtTable;\n\n            // Load Datasets\n            osApi.setBusy(true);\n            osApi.getDataManifest(vm.dataset).then(function(response){\n                vm.colnames= response.payload.colnames;\n                vm.rows = response.payload.mtx;\n                $timeout(function(){\n                    dtTable = $('#metadata-datatable').dataTable({\n                        \"paging\":   false,\n                    });\n                    $scope.$watch('vm.search', function(){\n                        dtTable.api().search(vm.search).draw();\n                    });\n                    osApi.setBusy(false);\n                },0,false);\n            });\n        }\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osMarkers', markers);\n\n    /** @ngInject */\n    function markers() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/markers/markers.html',\n            scope: {},\n            controller: MarkersController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function MarkersController(osApi, $state, $timeout, $scope, $stateParams, cytoscape, signals, $sce) {\n\n            // Const Colors \n            var color = {\n                darkblue: 'rgb(5, 108, 225)',\n                blue: 'rgb(19, 150, 222)',\n                black: 'black',\n                white: 'white',\n                red: 'red',\n                purple: 'rgb(56, 52,123)',\n                gray: '#CCC'\n            };\n\n            // Const Style\n            var styles = [\n                {\n                    selector: 'node',\n                    style: {\n                        'background-color': color.black,\n                        'border-opacity': 1,\n                        'border-color': color.red,\n                        'border-width': \"0px\",\n                        'height': \"20px\",\n                        'width': \"20px\",\n                        'label': \" data(id)\",\n                        'text-halign': \"right\",\n                        'text-valign': \"center\",\n                        'text-background-color': color.white,\n                        'text-background-opacity': '.8',\n                        'text-background-shape': 'roundrectangle',\n                        'font-size': '0px'\n                    }\n                }, {\n                    selector: 'node[nodeType=\"patient\"]',\n                    style: {\n                        'background-color': color.blue,\n                        'height': '50px',\n                        'width': '50px'\n                    }\n                }, {\n                    selector: 'edge',\n                    style: {\n                        'line-color': color.gray,\n                        'line-style': 'solid',\n                        'width': '3px',\n                        'display': 'none'\n                    }\n                }, { // Chromo Bars\n                    selector: 'edge[edgeType=\"chromosome\"]',\n                    style: {\n                        'line-color': color.darkblue,\n                        'display': 'element'\n                    }\n                }, {\n                    selector: 'node[nodeType=\"gene\"]',\n                    style: {\n                        'border-color': color.blue,\n                        'border-width': '3px',\n                        'background-color': color.white,\n                        'height': 'mapData(degree, 0, 50, 10.0, 80.0)',\n                        'width': 'mapData(degree, 0, 50, 10.0, 80.0)'\n                    }\n                }, {\n                    selector: 'node[nodeType=\"patient\"]:selected',\n                    style: {\n                        'background-color': color.red,\n                        'width': '100px',\n                        'height': '100px',\n                        'shape': 'diamond'\n\n                    }\n                }\n            ];\n\n            // Interactive Mode Options\n            var optInteractiveModesFactory = function(chart, vm){\n                // Event Signals\n                var events = (function() {\n                    var geneOver = new signals.Signal();\n                    var geneOut = new signals.Signal();\n                    var geneClick = new signals.Signal();\n                    var patientOver = new signals.Signal();\n                    var patientOut = new signals.Signal();\n                    var patientClick = new signals.Signal();\n                    var removeAll = function() {\n                        geneOver.removeAll();\n                        geneOut.removeAll();\n                        patientOver.removeAll();\n                        patientOut.removeAll();\n                        geneClick.removeAll();\n                        patientClick.removeAll();\n                    }\n                    var over = function(e) {\n                        geneOver.add(e);\n                        patientOver.add(e);\n                    };\n                    var out = function(e) {\n                        geneOut.add(e);\n                        patientOut.add(e);\n                    }\n                    var click = function(e) {\n                        geneClick.add(e);\n                        patientClick.add(e);\n                    }\n                    return {\n                        geneOver: geneOver,\n                        geneOut: geneOut,\n                        geneClick: geneClick,\n                        patientOver: patientOver,\n                        patientOut: patientOut,\n                        patientClick: patientClick,\n                        over: over,\n                        out: out,\n                        click: click,\n                        removeAll: removeAll\n                    };\n                })();\n\n                chart\n                .on('click', 'node[nodeType=\"gene\"]', events.geneClick.dispatch)\n                .on('click', 'node[nodeType=\"patient\"]', events.patientClick.dispatch)\n                .on('mouseover', 'node[nodeType=\"gene\"]', events.geneOver.dispatch)\n                .on('mouseover', 'node[nodeType=\"patient\"]', events.patientOver.dispatch)\n                .on('mouseout', 'node[nodeType=\"gene\"]', events.geneOut.dispatch)\n                .on('mouseout', 'node[nodeType=\"patient\"]', events.patientOut.dispatch);\n                // States\n                var states = [{\n                     name: 'None',\n                     register: function() {},\n                     unregister: function() {}\n                 }, {\n                     name: 'Show All Edges',\n                     register: function() {\n                         events.over(function(e) {\n                             if (e.cyTarget.data().nodeType == 'patient') {\n                                 $scope.$apply(function() {\n                                     vm.patient = e.cyTarget.attr('patient');\n                                     vm.patientChromosomes = e.cyTarget.neighborhood(\"node\").map(function(item) {\n                                         return item.data().id\n                                     });\n                                 });\n                             }\n                             e.cyTarget.style({\n                                 'font-size': '100px'\n                             });\n                             e.cyTarget.animate({\n                                 style: {\n                                     'border-width': 150\n                                 }\n                             }, {\n                                 duration: 300,\n\n\n                             });\n                             e.cyTarget.neighborhood('node').style({\n                                 'font-size': '70px'\n                             });\n                         });\n                         events.out(function(e) {\n                             $scope.$apply(function() {\n                                 vm.patient = vm.patientChromosomes = null;\n                             });\n                             e.cyTarget.style({\n                                 'font-size': '0px'\n                             });\n                             e.cyTarget.animate({\n                                 style: {\n                                     'border-width': 0\n                                 }\n                             }, {\n                                 duration: 100\n\n                             });\n                             e.cyTarget.neighborhood('node').style({\n                                 'font-size': '0px'\n                             });\n                         });\n                            chart.$('edge[edgeType!=\"chromosome\"]').style({\n                             display: 'element'\n                         });\n                     },\n                     unregister: function() {\n                         events.removeAll();\n                         chart.$('edge[edgeType!=\"chromosome\"]').style({\n                             display: 'none'\n                         });\n                     }\n                 }, {\n                     name: 'One Degree',\n                     register: function() {\n                         events.click(function(e){\n                            var ds = vm.datasource;\n                            if (ds.indexOf(\"TCGA\"==0)){\n                                var cbioDsName = ds.substr(4)+\"_tcga\";\n                                var genes = e.cyTarget.neighborhood('node').map(function( n ){  return n.data().name; }).join(\"+\");\n                                var url = \"http://www.cbioportal.org/ln?cancer_study_id=\"+cbioDsName+\"&q=\"+genes;\n                                $scope.$apply(function() {\n                                    window.open(url);\n                                    //vm.frame = $sce.trustAsResourceUrl(url);\n                                });\n                            }\n                        });\n                         events.over(function(e) {\n                             if (e.cyTarget.data().nodeType == 'patient') {\n                                 $scope.$apply(function() {\n                                     vm.patient = e.cyTarget.attr('patient');\n                                     vm.patientChromosomes = e.cyTarget.neighborhood(\"node\").map(function(item) {\n                                         return item.data().id\n                                     });\n                                 });\n                             }\n                             e.cyTarget.style({\n                                 'height': '60px',\n                                 'width': '60px',\n                                 'font-size': '100px'\n                             });\n                             e.cyTarget.neighborhood('node').style({\n                                 'font-size': '70px'\n                             });\n                             e.cyTarget.neighborhood('edge').style({\n                                 'display': 'element'\n                             });\n                         });\n                         events.out(function(e) {\n                             $scope.$apply(function() {\n                                 vm.patient = vm.patientChromosomes = null;\n                             });\n                             e.cyTarget.style({\n                                 'height': '30px',\n                                 'width': '30px',\n                                 'font-size': '0px'\n                             });\n                             e.cyTarget.neighborhood('node').style({\n                                 'font-size': '0px'\n                             });\n                             e.cyTarget.neighborhood('edge').style({\n                                 'display': 'none'\n                             });\n                         });\n                     },\n                     unregister: function() {\n                         events.removeAll();\n                     }\n                 }, {\n                     name: 'Two Degrees',\n                     register: function() {\n                         events.over(function(e) {\n                             if (e.cyTarget.data().nodeType == 'patient') {\n                                 $scope.$apply(function() {\n                                     vm.patient = e.cyTarget.attr('patient');\n                                     vm.patientChromosomes = e.cyTarget.neighborhood(\"node\").map(function(item) {\n                                         return item.data().id\n                                     });\n                                 });\n                             }\n                             e.cyTarget.style({\n                                 'height': '60px',\n                                 'width': '60px',\n                                 'font-size': '100px'\n                             });\n                             e.cyTarget.neighborhood('node')\n                                 .neighborhood('edge').style({\n                                     'line-style': 'dashed',\n                                     'display': 'element'\n\n                                 });\n\n                             // Should Have Different Line Style For 1st Degree \n                             e.cyTarget.neighborhood('edge').style({\n                                 'line-style': 'solid'\n                             });\n                         });\n                         events.out(function(e) {\n                             $scope.$apply(function() {\n                                 vm.patient = vm.patientChromosomes = null;\n                             });\n                             e.cyTarget.style({\n                                 'height': '30px',\n                                 'width': '30px',\n                                 'font-size': '0px'\n                             });\n                             e.cyTarget.neighborhood('node').neighborhood('edge').style({\n                                 'line-style': 'solid',\n                                 'display': 'none'\n                             });\n                         });\n                     },\n                     unregister: function() {\n                         events.removeAll();\n                     }\n                 }];\n                $scope.$watch(\"vm.optInteractiveMode\", function(next, prev) {\n                    prev.unregister();\n                    next.register();\n                });\n                return states;\n            };\n\n            // Node Color Options\n            var optNodeColorsFactory = function(chart, vm, osApi){\n                var fn = function(item){\n                    chart.$('node[nodeType=\"patient\"]').style({ 'background-color': 'rgb(19, 150, 222)' });\n                    osApi.getSampleCategorization(item.name).then(function(response) {\n                        vm.legandNodes = response.payload.tbl.map( function(e){ return e[0]+\"|\"+e[1]; }).filter( function(v, i, s) { return s.indexOf(v)===i; }).map( function(e) { var p=e.split(\"|\"); return {'name':p[0], 'color':p[1]}});\n                        chart.$('node[nodeType=\"patient\"]').forEach(function(ele, i, eles) {\n                            var id = ele.data().id;\n                            for (var i = 0; i < this.rownames.length; i++) {\n                                if (id === this.rownames[i]) {\n                                    ele.style({ 'background-color': this.tbl[i][1] });\n                                    break;\n                                }\n                            }\n                        }, response.payload);\n                    });\n                }\n                osApi.getSampleCategorizationNames().then(function(response) {\n                    vm.optNodeColors = vm.optNodeColors.concat(response.payload\n                                    .map(function(item) {\n                                        return { 'name': item, fn: fn } }));\n                });\n\n                vm.legandNodes = [{name:'Patients', color:'#3993fa'}];\n                var value =  [\n                    { \n                        name:'Default',\n                        fn: function(item){\n                            vm.legandNodes = [{name:'Patients', color:'#3993fa'}];\n                            chart.$('node[nodeType=\"patient\"]').style({ 'background-color': 'rgb(19, 150, 222)' });\n                        }\n                    },\n                    {\n                        name: 'Gender',\n                        fn: function(item){\n                            vm.legandNodes = [{name:'Male', color:'blue'}, {name:'Female', color:'pink'}];\n                            chart.$('node[nodeType=\"patient\"]').forEach(function(ele, i, eles) {\n                                try{\n                                    ele.style({\n                                        'background-color':\n                                            (ele.data().patient[2] === 'male') ? 'rgb(5, 108, 225)' :\n                                            (ele.data().patient[2] === 'female') ? 'pink' : 'black'\n                                    });\n                                }catch(e){ console.log(ele.data().id)}\n                            });\n                        }\n                    },\n                    {\n                        name: 'Age At Diagnosis',\n                        fn: function(item){\n                            vm.legandNodes = [{name:'Young', color:'green'}, {name:'Old', color:'red'}];\n                            var hsv2rgb=function(a){var e,r,t=a.hue,s=a.sat,c=a.val,n=[];if(0===s)e=[c,c,c];else switch(t/=60,r=Math.floor(t),n=[c*(1-s),c*(1-s*(t-r)),c*(1-s*(1-(t-r)))],r){case 0:e=[c,n[2],n[0]];break;case 1:e=[n[1],c,n[0]];break;case 2:e=[n[0],c,n[2]];break;case 3:e=[n[0],n[1],c];break;case 4:e=[n[2],n[0],c];break;default:e=[c,n[0],n[1]]}return\"#\"+e.map(function(a){return(\"0\"+Math.round(255*a).toString(16)).slice(-2)}).join(\"\")};\n                            chart.$('node[nodeType=\"patient\"]').forEach(function(ele, i, eles) {\n                                try{\n                                    var age = ele.data().patient[4];\n                                    ele.style({\n                                        'background-color': 'rgb(' + ((255 * age) / 100) + ',' + ((255 * (100 - age)) / 100) + ',0)'\n                                    });\n                                }catch(e){ console.log(ele.data().id)}\n                            });\n                        }\n                    }\n                ];\n                vm.optNodeColor = value[0]\n                return value;\n            };\n\n            // Edge Color Options\n            var optEdgeColorsFactory = function(chart){\n                var fn = function(edgeColor){\n                    var el = $(\".\" + edgeColor.class);\n                    switch (edgeColor.state) {\n                        case 'Visible':\n                            edgeColor.state = 'Highlight';\n                            el.css(\"border-color\", edgeColor.color);\n                            chart.$('edge[edgeType=\"' + edgeColor.name + '\"]').style({ 'line-color': edgeColor.color, 'width': '5px' });\n                            break;\n                        case 'Hidden':\n                            edgeColor.state = 'Visible';\n                            el.css(\"border-color\", color.gray);\n                            chart.$('edge[edgeType=\"' + edgeColor.name + '\"]').style({ 'line-color': '#CCC', 'width': '5px' });\n                            break;\n                        default:\n                            edgeColor.state = 'Hidden';\n                            el.css(\"border-color\", color.white);\n                            chart.$('edge[edgeType=\"' + edgeColor.name + '\"]').style({ 'width': '0px' });\n                            break;\n                    }\n                };\n                var value = [\n                    {   \n                        name: 'mutation', class:'edgeMutation', color:'#004358', state:'Highlight',\n                        fn: fn\n                    },\n                    {\n                        name: 'cnGain.1', class:'edgeCnGain1', color:'#1F8A70', state:'Highlight',\n                        fn: fn\n                    },\n                    {\n                        name: 'cnLoss.1', class:'edgeCnLoss1', color:'#BEDB39', state:'Highlight',\n                        fn: fn\n                    },\n                    {\n                        name: 'cnGain.2', class:'edgeCnGain2', color: '#FFE11A', state: 'Highlight', \n                        fn: fn\n\n                    },\n                    {   \n                        name: 'cnLoss.2', class:'edgeCnLoss2', color: '#FD7400', state: 'Highlight',\n                        fn: fn\n                    }\n                ];\n                $timeout(function(){\n                        value.forEach(function(item) {\n                            $(\".\" + item.class).css(\"border-color\", item.color);\n                            chart.$('edge[edgeType=\"' + item.name + '\"]').style({ 'line-color': item.color, 'width': '5px' });\n                        });\n                    });\n                 return value;\n            };\n\n            // Patient Layouts\n            var optPatientLayoutsFatory = function(chart, vm){ \n                var value = [\n                    { \n                        name: 'Hobo',\n                        fn: function(item){\n                            vm.optPatientLayout = item;\n                            chart.$('node[nodeType=\"patient\"]').forEach(function(item) { \n                                item.position(item.data().pos); \n                            });\n                        }\n                    }, \n                    { \n                        name: 'Age At Diagnosis',\n                        fn: function(item){\n                            vm.optPatientLayout = item;\n                            chart.$('node[nodeType=\"patient\"]').forEach(function(item) {\n                                try{  // Some Genes Don't Have Cooresponding Clinical Entries\n                                    item.position({ x: 500, y: (item.data().patient[4] * 60) - 3000 });\n                                }catch(e){}\n                            \n                            });\n                                \n                        }\n                    },\n                    { \n                        name: 'Gender',\n                        fn: function(item){\n                            vm.optPatientLayout = item;\n                            var xMale   = 1000;\n                            var xFemale = 1000;\n                            chart.$('node[nodeType=\"patient\"]').forEach(function(item) {\n                                 try{  // Some Genes Don't Have Cooresponding Clinical Entries\n                                    if (item.data().patient[2].toLowerCase() == 'male') {\n                                        item.position({ x: xMale -= 50, y: 500 });\n                                    }else {\n                                        item.position({ x: xFemale -= 50, y: -500 });\n                                    }\n                                }catch(e){}\n                            });\n                        }\n                    }\n                ];\n                vm.optPatientLayout = value[0];\n                return value;\n            };\n\n            // View Model\n            var vm = this;\n            vm.datasource = $stateParams.datasource || 'DEMOdz';\n            vm.optInteractiveModes;\n            vm.optInteractiveMode;\n            vm.optPatientLayouts;\n            vm.optPatientLayout;\n            vm.optNodeColors;\n            vm.optNodeColor;\n            vm.optEdgeColors;\n            vm.legandNodes;\n            vm.legandPatient;\n            vm.legandChromosomes;\n            vm.frame;\n\n            // Elements\n            var elChart = $(\"#markers-chart\");\n            var chart;\n            \n            // Initialize\n            var data = {\n                patient:null,\n                markers:null\n            }\n            osApi.setBusy(true);\n            osApi.setDataset(vm.datasource).then(function(response) {\n                osApi.getPatientHistoryTable(vm.datasource).then(function(response) {\n                    data.patient = response.payload;\n                    osApi.getMarkersNetwork(response.payload).then(function(response) {\n                        data.markers = angular.fromJson(response.payload);\n                        data.markers.elements.nodes\n                        .filter(function(item) { return item.data.nodeType === 'patient'; })\n                        .map(function(value, index, array) {\n\n                            // Save Positions Of Hobo + associate With Patient Table\n                            value.data.pos = { x: value.position.x, y: value.position.y };\n                            value.data.patient = data.patient.tbl.filter(function(item) {\n                                    return item[0] === value.data.id; })[0];\n                        });\n\n                        // Initalize CytoScape\n                        chart = cytoscape({\n                            container: elChart,\n                            elements: data.markers.elements,\n                            style: styles,\n                            layout: {\n                                name: \"preset\",\n                                fit: true\n                            }\n                        });\n\n                        // Opt Edge Colors\n                        vm.optPatientLayouts = optPatientLayoutsFatory(chart, vm);\n                        vm.optEdgeColors = optEdgeColorsFactory(chart, vm, $timeout);\n                        vm.optNodeColors = optNodeColorsFactory(chart, vm, osApi);\n                        vm.optInteractiveModes = optInteractiveModesFactory(chart, vm, $scope);\n                        vm.optInteractiveMode = vm.optInteractiveModes[0];\n                        osApi.setBusy(false);\n                    });\n                });\n            });\n        }\n    }\n})();\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osLogin', login);\n\n    /** @ngInject */\n    function login() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/login/login.html',\n            replace: true,\n            scope: {},\n            controller: LoginController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function LoginController(osApi, osState, $state) {\n            var vm = this;\n            vm.domains = osApi.getDomains();\n            vm.user = osState.getUser();\n            vm.hasError = false;\n\n            vm.login = function() {\n                osApi.login(vm.user).then(function(){\n                    if (vm.user.authenticated){\n                        $state.go(\"datasource\");\n                    }else{\n                        vm.hasError = true;\n                    }\n                });\n            }\n        }\n    }\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osLoader', login);\n\n    /** @ngInject */\n    function login() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/loader/loader.html',\n            replace: true\n        };\n\n        return directive;\n    }\n\n})();\n\n(function() {\n    'use strict';\n    angular\n        .module('oncoscape')\n        .directive('osLanding', landing);\n\n    /** @ngInject */\n    function landing() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/landing/landing.html',\n            replace: true,\n            scope: {},\n            controller: LandingController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function LandingController($state) {\n            var vm = this;\n            vm.login = function(){\n                $state.go(\"login\");\n            }\n        }\n    }\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osHistory', history);\n\n    /** @ngInject */\n    function history() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/history/history.html',\n            scope: {},\n            controller: HistoryController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function HistoryController(osApi, $state, $timeout, $scope, $stateParams) {\n\n            // View Model\n            var vm = this;\n            vm.datasource = $stateParams.datasource || \"DEMOdz\";\n            vm.colnames = [];\n            vm.rows = [];\n            vm.deathMinFilter = vm.deathMinValue = 1;\n            vm.deathMaxFilter = vm.deathMaxValue = 99;\n            vm.survivalMinFilter = vm.survivalMinValue = 0;\n            vm.survivalMaxFilter = vm.survivalMaxValue = 10;\n            vm.search = \"\";\n            vm.toggleFilter = function(){\n                $(\".container-filters\").toggleClass(\"container-filters-collapsed\");\n                $(\".container-filter-toggle\").toggleClass(\"container-filter-toggle-collapsed\");\n            }\n            vm.applyFilter = function(element){\n                // Override Datatables Default Search Function - More Efficent Than Using Angular Bindings\n                $.fn.DataTable.ext.search = [function( settings, data, dataIndex ) {\n                    var alive = parseFloat(data[3]);\n                    var death = parseFloat(data[4]);\n                    if (isNaN(alive) || isNaN(death)) return false;\n                    return (death >= vm.deathMinFilter && \n                            death <= vm.deathMaxFilter &&\n                            alive >= vm.survivalMinFilter && \n                            alive <= vm.survivalMaxFilter);\n\n                }];\n                dtTable.api().draw();\n            };\n\n            // Elements\n            var dtTable;\n\n            // Load Datasets\n            osApi.setBusy(true);\n            osApi.setDataset(vm.datasource).then(function(response){\n                osApi.getPatientHistoryTable(vm.datasource).then(function(response){\n                    vm.colnames= response.payload.colnames;\n                    vm.rows = response.payload.tbl;\n                    $timeout(function(){\n                        dtTable = $('#history-datatable').dataTable({\n                            \"scrollY\": \"70vh\",\n                            \"paging\": false\n                        });\n                        $scope.$watch('vm.search', function(){\n                            dtTable.api().search(vm.search).draw();\n                        });\n                        osApi.setBusy(false);\n                    },0,false);\n                });\n            });\n        }\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osHeader', header);\n\n    /** @ngInject */\n    function header() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/header/header.html',\n            scope: {\n\n            },\n            controller: HeaderController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function HeaderController() {\n            //var vm = this;\n        }\n    }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('oncoscape')\n    .directive('osFooter', footer);\n\n  /** @ngInject */\n  function footer() {\n    \n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/footer/footer.html',\n      scope: {\n         \n      },\n      controller: FooterController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function FooterController() {\n      //var vm = this;\n    }\n  }\n\n})();\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osFilters', filters);\n\n    /** @ngInject */\n    function filters() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/filters/filters.html',\n            scope: {},\n            controller: FiltersController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function FiltersController(osApi, $stateParams) {\n\n            // View Model\n            var vm = this;\n            vm.datasource = $stateParams.datasource || \"DEMOdz\";\n\n            var data = {\n                name: vm.datasource,\n                \"parent\": \"null\",\n                \"children\": [\n                  {\n                    \"name\": \"Level 2: A\",\n                    \"children\": [\n                      {\n                        \"name\": \"Son of A\",\n                      },\n                      {\n                        \"name\": \"Daughter of A\",\n                        \"children\": [\n                      {\n                        \"name\": \"Son of A\",\n                      },\n                      {\n                        \"name\": \"Daughter of A\",\n                      }\n                    ]\n                      }\n                    ]\n                  },\n                  {\n                    \"name\": \"Level 2: B\",\n                  }\n                ]\n              }\n           \n            // Elements\n            var elChart = $(\"#filters-chart\");\n            var chart;\n\n            // Size\n            var margin = {top: 20,right: 20,bottom: 30,left: 40};\n            var width = elChart.width() - margin.left - margin.right;\n            var height = elChart.height() - margin.top - margin.bottom;\n        var i = 0;\n\n        var tree = d3.layout.tree()\n            .size([height, width]);\n\n        var diagonal = d3.svg.diagonal()\n            .projection(function(d) { return [d.y, d.x]; });\n\n        var svg = d3.select(\"#filters-chart\").append(\"svg\")\n            .attr(\"width\", width + margin.right + margin.left)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n        var root = data;          \n        update(root);\n\n        function update(source) {\n\n            // Compute the new tree layout.\n            var nodes = tree.nodes(root).reverse(),\n            links = tree.links(nodes);\n\n            // Normalize for fixed-depth.\n            nodes.forEach(function(d) { d.y = d.depth * 80; });\n\n            // Declare the nodes…\n            var node = svg.selectAll(\"g.node\")\n            .data(nodes, function(d) { return d.id || (d.id = ++i); });\n\n            // Enter the nodes.\n            var nodeEnter = node.enter().append(\"g\")\n            .attr(\"class\", \"node\")\n            .attr(\"transform\", function(d) { \n              return \"translate(\" + d.y + \",\" + d.x + \")\"; });\n\n            nodeEnter.append(\"circle\")\n            .attr(\"r\", function(d){  return (d.parent==\"null\") ? 35 : 15; })\n\n            // Declare the links…\n            var link = svg.selectAll(\"path.link\")\n            .data(links, function(d) { return d.target.id; });\n\n            // Enter the links.\n            link.enter().insert(\"path\", \"g\")\n            .attr(\"class\", \"link\")\n            .style(\"stroke\", \"#3993fa\")//function(d) { return d.target.level; })\n            .attr(\"d\", diagonal);\n\n            }\n        }\n    }\n})();\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osDatasource', datasource);\n\n    /** @ngInject */\n    function datasource() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/datasource/datasource.html',\n            controller: DatasourceController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function DatasourceController(osApi, $state) {\n            var vm = this;\n            vm.datasets = [];\n            vm.explore = function(tool, datasource){\n                $state.go(tool, {datasource:datasource});\n            };\n\n            // Load Datasets\n            osApi.setBusy(true);\n            osApi.getDataSetNames().then(function(response){\n                vm.datasets = response.payload.datasets;\n                osApi.setBusy(false);\n            });\n        }\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('oncoscape')\n        .directive('osCompare', header);\n\n    /** @ngInject */\n    function header() {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/compare/compare.html',\n            scope: {\n\n            },\n            controller: CompareController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function CompareController() {\n            //var vm = this;\n        }\n    }\n    \n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('oncoscape')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log, $rootScope) {\n\n  \t// Actions To Take On State Change\n  \t$rootScope.$on('$stateChangeStart', function(event, toState, toParams, fromState, fromParams, options){ \n\n  \t\t// Reset DataTable Custom Filters\n  \t\t$.fn.DataTable.ext.search = [];\n\n\t});\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('oncoscape')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n\n\n    $stateProvider\n      .state('landing', {\n        url: '/',\n        template: '<os-landing>'\n      })\n      .state('login', {\n        url: '/login',\n        template: '<os-login>'\n      })\n      .state('datasource',{\n        url: '/datasource',\n        template: '<os-datasource>'\n      })\n      .state('tools',{\n        url: '/tools',\n        template: '<os-tools>'\n      })\n      .state('metadata',{\n        url: '/metadata/{datasource}',\n        template: '<os-metadata>'\n      })\n      .state('history',{\n        url: '/history/{datasource}',\n        template: '<os-history>'\n      })\n      .state('plsr',{\n        url: '/plsr/{datasource}',\n        template: '<os-plsr>'\n      })\n      .state('pca',{\n        url: '/pca/{datasource}',\n        template: '<os-pca>'\n      })\n      .state('markers',{\n        url: '/markers/{datasource}',\n        template: '<os-markers>'\n      })\n      .state('pathways',{\n        url: '/pathways/{datasource}',\n        template: '<os-pathways>'\n      })\n      .state('timelines',{\n        url: '/timelines/{datasource}',\n        template: '<os-timelines>'\n      })\n      .state('compare',{\n        url: '/compare/{datasource}',\n        template: '<os-compare>'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global d3:false, $:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('oncoscape')\n    .constant('d3', d3)\n    .constant('cytoscape', cytoscape)\n    .constant('signals', signals)\n    .constant('$', $);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('oncoscape')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"oncoscape\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/components/compare/compare.html\",\"<section class=\\\"compare-v50\\\"><os-plsr></os-plsr></section><section class=\\\"compare-v50\\\"><os-pca></os-pca></section>\");\n$templateCache.put(\"app/components/datasource/datasource.html\",\"<section class=\\\"datasource\\\"><div class=\\\"container\\\"><div class=\\\"row\\\"><h2>Data Sources</h2><p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.</p></div><div class=\\\"row\\\"><ul><li ng-repeat=\\\"dataset in vm.datasets\\\"><img src=\\\"/assets/images/datasets/{{dataset}}.png\\\"><h2>{{dataset}}</h2><p>Lorem ipsum dolor sit amet, cras eu mollis vivamus, ad sollicitudin rhoncus dui proin. Dolor elit ut condimentum luctus ipsam, suspendisse auctor, bibendum cubilia tellus ultrices pellentesque dictumst, egestas lectus in mattis mi class ac.</p><nobr><a ng-click=\\\"vm.explore(\\'metadata\\',dataset)\\\">Metadata</a> &nbsp;|&nbsp; <a ng-click=\\\"vm.explore(\\'history\\',dataset)\\\">Patient History</a> &nbsp;|&nbsp; <a ng-click=\\\"vm.explore(\\'markers\\',dataset)\\\">Markers + Patients</a> &nbsp;|&nbsp; <a ng-click=\\\"vm.explore(\\'pathways\\',dataset)\\\">Pathways</a> &nbsp;|&nbsp; <a ng-click=\\\"vm.explore(\\'plsr\\',dataset)\\\">PLSR</a> &nbsp;|&nbsp; <a ng-click=\\\"vm.explore(\\'pca\\',dataset)\\\">PCA</a> &nbsp;|&nbsp; <a ng-click=\\\"vm.explore(\\'timelines\\',dataset)\\\">Timelines</a></nobr></li></ul></div></div><br><br></section>\");\n$templateCache.put(\"app/components/filters/filters.html\",\"<section class=\\\"filters container\\\" id=\\\"filters-chart\\\"></section>\");\n$templateCache.put(\"app/components/footer/footer.html\",\"<footer class=\\\"footer container\\\"><div class=\\\"row\\\"><div class=\\\"col-xs-12 col-sm-6\\\"><img class=\\\"footer-logo\\\" src=\\\"/assets/images/logo-fred-hutchinson-cancer-research-center.png\\\" alt=\\\"Fred Hutchinson Cancer Research Center\\\"> <img class=\\\"footer-logo\\\" src=\\\"/assets/images/logo-university-of-washington-medicine.png\\\" alt=\\\"UW Medicine\\\"> <img class=\\\"footer-logo\\\" src=\\\"/assets/images/logo-seattle-cancer-care-alliance.png\\\" alt=\\\"Seattle Cancer Care Alliance\\\"></div><div class=\\\"col-xm-12 col-sm-6 text-right\\\"><a href=\\\"https://www.facebook.com/STTRCancer\\\" target=\\\"_blank\\\"><img class=\\\"footer-icon\\\" src=\\\"/assets/images/sttr-facebook-out.png\\\" alt=\\\"Facebook\\\"></a> <a href=\\\"https://twitter.com/sttrcancer\\\" target=\\\"_blank\\\"><img class=\\\"footer-icon\\\" src=\\\"/assets/images/sttr-twitter-out.png\\\" alt=\\\"Twitter\\\"></a> <a href=\\\"https://plus.google.com/+fredhutch/videos\\\" target=\\\"_blank\\\"><img class=\\\"footer-icon\\\" src=\\\"/assets/images/sttr-youtube-out.png\\\" alt=\\\"YouTube\\\"></a> <a href=\\\"http://instagram.com/FredHutch\\\" target=\\\"_blank\\\"><img class=\\\"footer-icon\\\" src=\\\"/assets/images/sttr-instagram-out.png\\\" alt=\\\"Instagram\\\"></a> <a href=\\\"http://www.linkedin.com/company/fred-hutchinson-cancer-research-center/careers?trk=top_nav_careers\\\" target=\\\"_blank\\\"><img class=\\\"footer-icon\\\" src=\\\"/assets/images/sttr-linkedin-out.png\\\" alt=\\\"LinkedIn\\\"></a> <a href=\\\"https://plus.google.com/116048577052683099154/posts\\\" target=\\\"_blank\\\"><img class=\\\"footer-icon\\\" src=\\\"/assets/images/sttr-google-out.png\\\" alt=\\\"Google+\\\"></a></div></div></footer>\");\n$templateCache.put(\"app/components/header/header.html\",\"<nav class=\\\"navbar navbar-inverse navbar-fixed-top\\\"><div class=\\\"container-fluid\\\"><div class=\\\"navbar-header\\\"><button type=\\\"button\\\" class=\\\"navbar-toggle collapsed\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#bs-example-navbar-collapse-1\\\" aria-expanded=\\\"false\\\"><span class=\\\"sr-only\\\">Toggle navigation</span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span></button> <a class=\\\"navbar-brand\\\" href=\\\"#\\\"><img alt=\\\"Brand\\\" src=\\\"/assets/images/logo.png\\\" style=\\\"max-height:50px;\\\"></a></div><div class=\\\"collapse navbar-collapse\\\" id=\\\"bs-example-navbar-collapse-1\\\"><ul class=\\\"nav navbar-nav navbar-right\\\"><li><a href=\\\"#tools\\\"><span class=\\\"glyphicon glyphicon-signal\\\"></span>Tools</a></li><li><a href=\\\"#datasource\\\"><span class=\\\"glyphicon glyphicon-equalizer\\\"></span>Data Sources</a></li><li><a href=\\\"#tools\\\"><span class=\\\"glyphicon glyphicon-th\\\"></span>Cohorts</a></li><li><a href=\\\"#datasource\\\"><span class=\\\"glyphicon glyphicon-user\\\"></span>Account</a></li></ul></div></div></nav>\");\n$templateCache.put(\"app/components/history/history.html\",\"<section class=\\\"history container container-filters\\\"><h2>Patient History ({{vm.datasource}})</h2><div class=\\\"row\\\"><div class=\\\"col-xs-4\\\" style=\\\"padding-right:20px;\\\"><label>Age At Death</label><div range-slider=\\\"\\\" min=\\\"vm.deathMinValue\\\" model-min=\\\"vm.deathMinFilter\\\" max=\\\"vm.deathMaxValue\\\" model-max=\\\"vm.deathMaxFilter\\\" show-values=\\\"true\\\" attach-handle-values=\\\"true\\\" on-handle-up=\\\"vm.applyFilter()\\\"></div></div><div class=\\\"col-xs-4\\\" style=\\\"padding-right:20px;\\\"><label>Survival</label><div range-slider=\\\"\\\" min=\\\"vm.survivalMinValue\\\" model-min=\\\"vm.survivalMinFilter\\\" max=\\\"vm.survivalMaxValue\\\" model-max=\\\"vm.survivalMaxFilter\\\" show-values=\\\"true\\\" attach-handle-values=\\\"true\\\" on-handle-up=\\\"vm.applyFilter()\\\"></div></div><div class=\\\"col-xs-4\\\" style=\\\"padding-right:20px;\\\"><label>Search</label> <input type=\\\"text\\\" class=\\\"ngrs-range-slider\\\" style=\\\"width:80%\\\" ng-model=\\\"vm.search\\\"></div></div></section><section class=\\\"container-filter-toggle\\\"><img src=\\\"/assets/images/arrow_down.png\\\" ng-click=\\\"vm.toggleFilter()\\\"></section><section class=\\\"history container\\\" style=\\\"padding-top:20px;\\\"><table id=\\\"history-datatable\\\" class=\\\"table table-striped table-bordered\\\" cellspacing=\\\"0\\\"><thead><tr><th ng-repeat=\\\"col in vm.colnames\\\">{{col}}</th></tr></thead><tbody><tr ng-repeat=\\\"row in vm.rows\\\"><td ng-repeat=\\\"datum in row track by $index\\\">{{datum}}</td></tr></tbody></table></section>\");\n$templateCache.put(\"app/components/landing/landing.html\",\"<div class=\\\"landing container\\\"><div class=\\\"row\\\" style=\\\"padding-top:20px;\\\"><div class=\\\"col-sm-8\\\"><h2>Bridging Cancer Research and Clinical Care</h2><p class=\\\"\\\">Oncoscape is developed at the Fred Hutchinson Cancer Research Center under the auspices of the Solid Tumor Translational Research initiative. Oncoscape is a web-based, menu-driven analysis and visualization platform for large-scale, heterogeneous clinical and molecular patient timeline data as exemplified by the Fred Hutch HIDRA database. Oncoscape was conceived, and is managed, by a Steering Committee comprising: <a href=\\\"https://www.fredhutch.org/en/labs/profiles/holland-eric.html\\\">Eric Holland</a>, <a href=\\\"http://www.sttrcancer.org/en/contact-us/horse-grant-bio.html\\\">Desert Horse-Grant</a>, <a href=\\\"https://www.fredhutch.org/en/diseases/featured-researchers/fearn-paul.html\\\">Paul Fearn</a>, <a href=\\\"https://www.linkedin.com/in/paul-shannon-a9478166\\\">Paul Shannon</a>, <a href=\\\"https://www.linkedin.com/in/lisa-mcferrin-9758b029\\\">Lisa McFerrin</a>, and <a href=\\\"https://www.linkedin.com/in/hbolouri\\\">Hamid Bolouri</a>.</p><p class=\\\"\\\">Through its easy point-and-click browser interface, Oncoscape will become an essential tool for doctors and researchers interested in:</p><ul class=\\\"\\\"><li>Comparing patients or populations across an array of features, like genetic alterations (CNV, IHC, sequencing, expression) or clinical elements (treatment regimens, diagnostics, outcomes)</li><li>Defining cohorts based on selected traits – identifying “patients like me”</li><li>Aligning patient histories according to timeline events: diagnosis, treatment, progression, survival</li><li>Performing powerful and integrated statistical analysis: Principle Component Analysis, Partial least squares regression, Kaplan-Meier curves, enrichment scores</li><li>Creating high quality visualizations of molecular/clinical data</li></ul><p class=\\\"\\\">By providing a portal equipped with rich data, powerful statistics and a simple interface, Oncoscape not only empowers users to quickly answer questions themselves but also expedites the process of discovering novel patterns and relationships. This can lead to numerous possible findings, including optimized drug therapies for individual patients, identification of novel regulatory pathways, or even the need to reassess adherence strategies.</p></div><div class=\\\"col-sm-4\\\" style=\\\"padding-top:50px;\\\"><div><os-login></os-login></div></div></div></div>\");\n$templateCache.put(\"app/components/loader/loader.html\",\"<div class=\\\"loader-modal\\\"><div class=\\\"loader\\\"><div class=\\\"loader__bar\\\"></div><div class=\\\"loader__bar\\\"></div><div class=\\\"loader__bar\\\"></div><div class=\\\"loader__bar\\\"></div><div class=\\\"loader__bar\\\"></div><div class=\\\"loader__ball\\\"></div></div></div>\");\n$templateCache.put(\"app/components/login/login.html\",\"<form class=\\\"login\\\"><h3 class=\\\"login-header\\\">Login</h3><div class=\\\"login-body\\\"><div class=\\\"alert alert-danger\\\" role=\\\"alert\\\" ng-show=\\\"vm.hasError\\\"><span class=\\\"glyphicon glyphicon-exclamation-sign\\\" aria-hidden=\\\"true\\\"></span> <span class=\\\"sr-only\\\">Error:</span> Invalid Credentials</div><fieldset class=\\\"form-group\\\"><span for=\\\"domain\\\" class=\\\"small\\\">Affiliation</span><select id=\\\"domain\\\" class=\\\"form-control\\\" ng-options=\\\"option.name for option in vm.domains track by option.name\\\" ng-model=\\\"vm.user.domain\\\"></select></fieldset><fieldset class=\\\"form-group\\\"><span class=\\\"form-control-label small\\\" for=\\\"username\\\">Username</span> <input id=\\\"username\\\" class=\\\"form-control input-sm\\\" type=\\\"text\\\" placeholder=\\\"Username\\\" ng-model=\\\"vm.user.name\\\"></fieldset><fieldset class=\\\"form-group\\\" ng-show=\\\"vm.user.domain.name!=\\'Guest\\'\\\"><span class=\\\"form-control-label small\\\" for=\\\"password\\\">Password</span> <input id=\\\"password\\\" class=\\\"form-control\\\" type=\\\"password\\\" placeholder=\\\"Password\\\" ng-model=\\\"vm.user.password\\\"></fieldset><button class=\\\"btn btn-default\\\" ng-click=\\\"vm.login()\\\">Login</button></div></form>\");\n$templateCache.put(\"app/components/markers/markers.html\",\"<section class=\\\"markers container container-filters\\\"><h2>Markers + Patients ({{vm.datasource}})</h2><div class=\\\"row\\\"><div class=\\\"col-xs-3\\\" style=\\\"padding-right:20px;\\\"><label>Interactive Mode</label><div class=\\\"dropdown bs-dropdown\\\"><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"dropdownMenu1\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">{{vm.optInteractiveMode.name}} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" aria-labelledby=\\\"dropdownMenu1\\\" style=\\\"width:100%\\\"><li ng-repeat=\\\"item in vm.optInteractiveModes\\\" ng-click=\\\"vm.optInteractiveMode=item\\\">{{item.name}}</li></ul></div></div><div class=\\\"col-xs-3\\\" style=\\\"padding-right:20px;\\\"><label>Layout Options</label><div class=\\\"dropdown bs-dropdown\\\"><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"dropdownMenu1\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">{{vm.optPatientLayout.name}} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu filter-list\\\" aria-labelledby=\\\"dropdownMenu1\\\" style=\\\"width:100%\\\"><li style=\\\"padding:5px;font-weight:600;\\\">Patient Distribution</li><li ng-repeat=\\\"item in vm.optPatientLayouts\\\" class=\\\"radio\\\" style=\\\"padding-left:10px\\\"><label><input type=\\\"radio\\\" name=\\\"patientType\\\" ng-click=\\\"item.fn(item)\\\">{{item.name}}</label></li></ul></div></div><div class=\\\"col-xs-3\\\" style=\\\"padding-right:20px;\\\"><label>Color Options</label><div class=\\\"dropdown bs-dropdown\\\"><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"dropdownMenu1\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">Patients + Edges <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu filter-list\\\" aria-labelledby=\\\"dropdownMenu1\\\" style=\\\"width:100%\\\"><li style=\\\"padding:5px;font-weight:600;\\\">Patients Colors</li><li ng-repeat=\\\"item in vm.optNodeColors\\\" class=\\\"radio\\\" style=\\\"padding-left:10px\\\"><label><input type=\\\"radio\\\" name=\\\"patientType\\\" ng-click=\\\"item.fn(item);\\\"> {{item.name}}</label></li><li><hr></li><li style=\\\"padding:5px;font-weight:600;\\\">Edge Colors</li><li ng-repeat=\\\"item in vm.optEdgeColors\\\"><button class=\\\"btn btn-default filter-button {{item.class}}\\\" ng-click=\\\"item.fn(item); $event.stopPropagation();\\\">{{item.name}} ({{item.state}})</button></li></ul></div></div><div class=\\\"col-xs-3\\\" style=\\\"padding-right:20px;\\\"><label>Search</label><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Search for...\\\" ng-model=\\\"vm.search\\\" style=\\\"height: 28px;margin-top: 0px !important;\\\"> <span class=\\\"input-group-btn\\\"><button class=\\\"btn btn-default\\\" type=\\\"button\\\" style=\\\"height: 28px;margin-top: 0px !important;\\\">Go</button></span></div></div></div></section><section class=\\\"container-filter-toggle\\\"><img src=\\\"/assets/images/arrow_down.png\\\" ng-click=\\\"vm.toggleFilter()\\\"></section><section id=\\\"markers-chart\\\" class=\\\"markers container-fluid container-content\\\"></section><div class=\\\"modal fade pathways\\\" id=\\\"gbm-webpage\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"myModalLabel\\\"><div class=\\\"modal-dialog\\\" role=\\\"document\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h4 class=\\\"modal-title\\\" id=\\\"myModalLabel\\\">{{vm.tip}}</h4></div><iframe class=\\\"modal-iframe\\\" ng-src=\\\"{{vm.frame}}\\\"></iframe></div></div></div><div class=\\\"markers container-legand\\\"><ul class=\\\"legand\\\"><li style=\\\"padding:5px;font-weight:600;\\\">Node Colors</li><li ng-repeat=\\\"item in vm.legandNodes\\\"><div class=\\\"circle {{item.color}}\\\"></div>{{item.name}}</li><li><hr></li><li style=\\\"padding:5px;font-weight:600;\\\">Edge Colors</li><li ng-repeat=\\\"item in vm.optEdgeColors\\\"><button class=\\\"btn btn-default filter-button {{item.class}}\\\" ng-click=\\\"item.fn(item); $event.stopPropagation();\\\">{{item.name}} ({{item.state}})</button></li></ul><ul class=\\\"legand\\\" ng-if=\\\"vm.patient\\\" style=\\\"width:250px;\\\"><li><hr></li><li style=\\\"padding:5px;font-weight:600;\\\">Patient Information</li><li>PID: {{vm.patient[0]}}</li><li>SID: {{vm.patient[1]}}</li><li>GENDER: {{vm.patient[2]}}</li><li>STATUS: {{vm.patient[6]}}</li><li>DIAGNOSED: {{vm.patient[4]}} years old</li><li>SURVIVED: {{vm.patient[3]}} years</li><li>PROGRESSION: {{vm.patient[5]}}</li><li><hr></li><li style=\\\"padding:5px;font-weight:600;\\\">Genes ({{vm.patientChromosomes.length}})</li><li><span ng-repeat=\\\"item in vm.patientChromosomes\\\">{{item}} |</span></li></ul><dl></dl></div>\");\n$templateCache.put(\"app/components/metadata/metadata.html\",\"<section class=\\\"metadata container container-filters\\\"><h2>Metadata ({{vm.dataset}})</h2><div class=\\\"row\\\"><div class=\\\"col-xs-4\\\" style=\\\"margin: 10px 0 30px;\\\"><label>Search</label> <input type=\\\"text\\\" class=\\\"ngrs-range-slider ngrs-range-slider-no-pad\\\" style=\\\"width:100%\\\" ng-model=\\\"vm.search\\\"></div></div></section><section class=\\\"container-filter-toggle\\\"><img src=\\\"/assets/images/arrow_down.png\\\" ng-click=\\\"vm.toggleFilter()\\\"></section><section class=\\\"metadata container\\\" style=\\\"padding-top:20px;\\\"><table id=\\\"metadata-datatable\\\" class=\\\"table table-striped table-bordered\\\" cellspacing=\\\"0\\\"><thead><tr><th ng-repeat=\\\"col in vm.colnames\\\">{{col}}</th></tr></thead><tbody><tr ng-repeat=\\\"row in vm.rows\\\"><td ng-repeat=\\\"datum in row track by $index\\\">{{datum}}</td></tr></tbody></table></section>\");\n$templateCache.put(\"app/components/pathways/pathways.html\",\"<section class=\\\"pathways container container-filters\\\"><h2>Pathways ({{vm.datasource}})</h2><div class=\\\"row\\\"><div class=\\\"col-xs-4\\\" style=\\\"padding-right:20px;\\\"><label>Search</label> <input type=\\\"text\\\" class=\\\"ngrs-range-slider\\\" style=\\\"width:100%\\\" ng-model=\\\"vm.search\\\"></div></div></section><section class=\\\"container-filter-toggle\\\"><img src=\\\"/assets/images/arrow_down.png\\\" ng-click=\\\"vm.toggleFilter()\\\"></section><section id=\\\"gbm-chart\\\" class=\\\"gbm container-fluid container-content\\\"></section><div class=\\\"modal fade pathways\\\" id=\\\"gbm-webpage\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"myModalLabel\\\"><div class=\\\"modal-dialog\\\" role=\\\"document\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h4 class=\\\"modal-title\\\" id=\\\"myModalLabel\\\">{{vm.tip}}</h4></div><iframe class=\\\"modal-iframe\\\" ng-src=\\\"{{vm.frame}}\\\"></iframe></div></div></div><section class=\\\"markers container-legand\\\"><ul class=\\\"legand\\\"><li style=\\\"padding:5px;font-weight:600;\\\">Legend</li><li style=\\\"border:0px solid green; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Activation</li><li style=\\\"border:0px solid red; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Inhibition</li><li style=\\\"border:0px solid #38347B; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Modification</li><li style=\\\"border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Genes</li></ul><ul class=\\\"legand\\\" ng-if=\\\"vm.tip\\\"><li><hr></li><li style=\\\"padding:5px;font-weight:600;\\\">Tip</li><li>View {{vm.tip}}</li></ul></section>\");\n$templateCache.put(\"app/components/pca/pca.html\",\"<section class=\\\"pca container container-filters\\\"><h2>Principal Component Analysis({{vm.datasource}})</h2><div class=\\\"row\\\"><div class=\\\"col-xs-4\\\" style=\\\"padding-right:20px;margin: 10px 0 30px;\\\"><label>Gene Set</label><div class=\\\"dropdown bs-dropdown\\\"><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"dropdownMenu1\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">{{vm.geneSet}} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" aria-labelledby=\\\"dropdownMenu1\\\"><li ng-repeat=\\\"item in vm.geneSets\\\" ng-click=\\\"vm.geneSet=item\\\">{{item}}</li></ul></div></div></div></section><section class=\\\"container-filter-toggle\\\"><img src=\\\"/assets/images/arrow_down.png\\\" ng-click=\\\"vm.toggleFilter()\\\"></section><section id=\\\"pca-chart\\\" class=\\\"pca container-fluid container-content\\\" style=\\\"margin:50px;\\\"></section><section class=\\\"markers container-legand\\\"><ul class=\\\"legand\\\"><li style=\\\"padding:5px;font-weight:600;\\\">Legend</li><li><span class=\\\"circle\\\" style=\\\"background-color:black;width:10px;height: 10px;margin-right:10px;\\\"></span>Patients</li><li><hr></li><li style=\\\"padding:5px;font-weight:600;\\\">Proportion of Variance</li><li>PC1: {{vm.pc1*100}}%</li><li>PC2: {{vm.pc2*100}}%</li></ul></section>\");\n$templateCache.put(\"app/components/plsr/plsr.html\",\"<section class=\\\"plsr container container-filters\\\"><h2>Partial Least Squares Regression ({{vm.datasource}})</h2><div class=\\\"row\\\"><div class=\\\"col-xs-4\\\" style=\\\"padding-right:20px;\\\"><label>Gene Set</label><div class=\\\"dropdown bs-dropdown\\\"><button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\" id=\\\"dropdownMenu1\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\">{{vm.geneSet}} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" aria-labelledby=\\\"dropdownMenu1\\\"><li ng-repeat=\\\"item in vm.geneSets\\\" ng-click=\\\"vm.geneSet=item\\\">{{item}}</li></ul></div></div><div class=\\\"col-xs-4\\\" style=\\\"padding-right:20px;\\\"><label>Age At Diagnosis</label><div range-slider=\\\"\\\" min=\\\"vm.deathMinValue\\\" model-min=\\\"vm.deathMinFilter\\\" max=\\\"vm.deathMaxValue\\\" model-max=\\\"vm.deathMaxFilter\\\" show-values=\\\"true\\\" attach-handle-values=\\\"true\\\" on-handle-up=\\\"vm.update()\\\"></div></div><div class=\\\"col-xs-4\\\" style=\\\"padding-right:20px;\\\"><label>Survival</label><div range-slider=\\\"\\\" min=\\\"vm.survivalMinValue\\\" model-min=\\\"vm.survivalMinFilter\\\" max=\\\"vm.survivalMaxValue\\\" model-max=\\\"vm.survivalMaxFilter\\\" show-values=\\\"true\\\" attach-handle-values=\\\"true\\\" on-handle-up=\\\"vm.update()\\\"></div></div></div></section><section class=\\\"container-filter-toggle\\\"><img src=\\\"/assets/images/arrow_down.png\\\" ng-click=\\\"vm.toggleFilter()\\\"></section><section id=\\\"plsr-chart\\\" class=\\\"plsr container-fluid container-content\\\"></section><section class=\\\"markers container-legand\\\"><ul class=\\\"legand\\\"><li style=\\\"padding:5px;font-weight:600;\\\">Legend</li><li style=\\\"border:0px solid #1396de; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Age At Diagnosis</li><li style=\\\"border:0px solid #38347b; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Survival</li><li><span class=\\\"circle\\\" style=\\\"background-color:black;width:10px;height: 10px;margin-right:10px;\\\"></span>Genes</li></ul></section>\");\n$templateCache.put(\"app/components/timelines/timelines.html\",\"<section class=\\\"timelines container container-filters\\\"><h2>Timelines ({{vm.datasource}})</h2><div class=\\\"row\\\"><div class=\\\"col-xs-4\\\" style=\\\"padding-right:20px;\\\"><label>Search</label> <input type=\\\"text\\\" class=\\\"ngrs-range-slider\\\" style=\\\"width:100%\\\" ng-model=\\\"vm.search\\\"></div></div></section><section class=\\\"container-filter-toggle\\\"><img src=\\\"/assets/images/arrow_down.png\\\" ng-click=\\\"vm.toggleFilter()\\\"></section><section id=\\\"timelines-chart\\\" class=\\\"timelines container-fluid container-content\\\"></section><section class=\\\"markers container-legand\\\"><ul class=\\\"legand\\\"><li style=\\\"padding:5px;font-weight:600;\\\">Events</li><li style=\\\"border:0px solid green; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Birth</li><li style=\\\"border:0px solid red; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Encounter</li><li style=\\\"border:0px solid #38347B; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Diagnosis</li><li style=\\\"border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Procedure</li><li style=\\\"border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Pathology</li><li style=\\\"border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Radiation</li><li style=\\\"border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Drug</li><li style=\\\"border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Progression</li><li style=\\\"border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Status</li><li style=\\\"border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;\\\">Absent</li></ul></section>\");\n$templateCache.put(\"app/components/tools/tools.html\",\"<section class=\\\"datasource\\\"><div class=\\\"container\\\"><div class=\\\"row\\\"><h2>Tools</h2><p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.</p></div><div class=\\\"row\\\"><ul><li ng-repeat=\\\"tool in vm.tools\\\"><img src=\\\"/assets/images/datasets/{{tool.img}}\\\"><h2>{{tool.name}}</h2><p>Lorem ipsum dolor sit amet, cras eu mollis vivamus, ad sollicitudin rhoncus dui proin. Dolor elit ut condimentum luctus ipsam, suspendisse auctor, bibendum cubilia tellus ultrices pellentesque dictumst, egestas lectus in mattis mi class ac. Etiam odio leo vestibulum id, dui pede faucibus cras orci sit primis, massa lacus consectetuer urna pulvinar fusce.</p><a ng-click=\\\"vm.explore(tool.route, \\'DEMOdz\\')\\\">Demo</a> &nbsp;|&nbsp; <a ng-click=\\\"vm.explore(tool.route, \\'TCGAbrain\\')\\\">Brain</a> &nbsp;|&nbsp; <a ng-click=\\\"vm.explore(tool.route, \\'TCGAbrca\\')\\\">Brca</a> &nbsp;|&nbsp; <a ng-click=\\\"vm.explore(tool.route, \\'TCGAcoadread\\')\\\">Coadread</a> &nbsp;|&nbsp; <a ng-click=\\\"vm.explore(tool.route, \\'TCGAgbm\\')\\\">Gbm</a> &nbsp;|&nbsp; <a ng-click=\\\"vm.explore(tool.route, \\'TCGAhnsc\\')\\\">Hnsc</a> &nbsp;|&nbsp; <a ng-click=\\\"vm.explore(tool.route, \\'TCGAluad\\')\\\">Luad</a> &nbsp;|&nbsp; <a ng-click=\\\"vm.explore(tool.route, \\'TCGAlung\\')\\\">Lung</a> &nbsp;|&nbsp; <a ng-click=\\\"vm.explore(tool.route, \\'TCGAlusc\\')\\\">Lusc</a> &nbsp;|&nbsp; <a ng-click=\\\"vm.explore(tool.route, \\'TCGAprad\\')\\\">Prad</a></li></ul></div></div></section>\");}]);"],"sourceRoot":"/source/"}