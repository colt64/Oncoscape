if(function(){"use strict";angular.module("oncoscape",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ui.bootstrap","ui-rangeSlider","toastr"])}(),function(){"use strict";function t(){function t(t,e,a){var n=this;n.datasource=a.datasource||"DEMOdz",n.tools=[{name:"Markers + Patients",route:"markers",img:"markers.png"},{name:"Pathways",route:"pathways",img:"pathways.png"},{name:"Partial Least Squares Regression (PLSR)",route:"plsr",img:"plsr.png"},{name:"Principal Components Analysis (PCA)",route:"pca",img:"pca.png"},{name:"Patient History",route:"history",img:"history.png"},{name:"MetaData",route:"metadata",img:"metadata.png"},{name:"Timelines (Beta)",route:"timelines",img:"tool.png"},{name:"Survival (Coming Soon)",route:"timelines",img:"tool.png"}],n.explore=function(t,a){e.go(t,{datasource:a})}}t.$inject=["osApi","$state","$stateParams"];var e={restrict:"E",templateUrl:"app/components/tools/tools.html",controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("oncoscape").directive("osTools",t)}(),function(){"use strict";function t(){function t(t,e,a){var n=this;n.datasource=a.datasource||"DEMOdz",n.toggleFilter=function(){angular.element(".container-filters").toggleClass("container-filters-collapsed"),angular.element(".container-filter-toggle").toggleClass("container-filter-toggle-collapsed")},t.setBusy(!0)("Loading Dataset"),t.setDataset(n.datasource).then(function(){t.getTimelines().then(function(){t.setBusy(!1)})})}t.$inject=["osApi","$state","$stateParams"];var e={restrict:"E",templateUrl:"app/components/timelines/timelines.html",controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("oncoscape").directive("osTimelines",t)}(),function(){"use strict";function t(){function t(t,e,a,n,o,i,s){var r=this;r.datasource=a.datasource||"DEMOdz",r.deathMinFilter=r.deathMinValue=45,r.deathMaxFilter=r.deathMaxValue=66,r.survivalMinFilter=r.survivalMinValue=3,r.survivalMaxFilter=r.survivalMaxValue=7,r.geneSets=[],r.geneSet=null,r.frame,r.tip=null,r.toggleFilter=function(){angular.element(".container-filters").toggleClass("container-filters-collapsed"),angular.element(".container-filter-toggle").toggleClass("container-filter-toggle-collapsed")},r.update=function(){d(!0)};var l=angular.element("#plsr-chart"),c=function(){function t(t,e,l){n&&n.remove(),a&&a.remove();var u=-1*t;d=i.scale.linear().domain([u,t]).range([0,h]),p=i.scale.linear().domain([u,t]).range([g,0]),c=m.selectAll("text").data(e).enter().append("text").attr("class","text").attr("x",function(t){return d(t[0])}).attr("y",function(t){return p(t[1])}).text(function(t){return t.name}).attr("text-anchor",function(t){var e=t[0]>0?"start":"end";return e}).style("fill","black"),a=m.selectAll("line").data(e).enter().append("line").attr("class","line").style("stroke-width",3).style("stroke",function(t){return t.name.indexOf("Age")?"#1396de":"#38347b"}).attr("x1",d(0)).attr("y1",p(0)).attr("x2",function(t){return d(t[0])}).attr("y2",function(t){return p(t[1])}),n=m.selectAll("circle").data(l).enter().append("circle").attr("cx",function(t){return d(t[0])}).attr("cy",function(t){return p(t[1])}).attr("r",function(){return 3}).style("fill","black").on("click",function(t){angular.element("#plsr-webpage").modal();var e="http://www.genecards.org/cgi-bin/carddisp.pl?gene="+t.name;o.$apply(function(){r.frame=s.trustAsResourceUrl(e)})}).on("mouseover",function(t){var e=i.mouse(this);f.text(t.name).style("top",e[1]+160+"px").style("left",e[0]+10+"px").style("visibility","visible")}).on("mousemove",function(){var t=i.mouse(this);f.style("top",t[1]+160+"px").style("left",t[0]+10+"px")}).on("mouseout",function(){return f.style("visibility","hidden")})}function e(t,e,o){c.data(e).transition().duration(900).attr("x",function(t){return d(t[0])}).attr("y",function(t){return p(t[1])}),a.data(e).transition().duration(900).attr("x1",d(0)).attr("y1",p(0)).attr("x2",function(t){return d(t[0])}).attr("y2",function(t){return p(t[1])}),n.data(o).transition().duration(900).each("start",function(){i.select(this)}).delay(function(t,e){return e/o.length*500}).attr("cx",function(t){return d(t[0])}).attr("cy",function(t){return p(t[1])}).each("end",function(){i.select(this).transition().duration(500).style("fill","black").attr("r",3)})}var a,n,c,d,p,u={top:20,right:20,bottom:30,left:40},h=l.width()-u.left-u.right,g=l.height()-u.top-u.bottom,m=i.select("#plsr-chart").append("svg").attr("id","chart").attr("width",h).attr("height",g),f=m.append("div").style("position","absolute").style("z-index","10").style("visibility","hidden");return{create:t,update:e}}("#plsr-chart");t.setBusy(!0)("Loading Dataset"),t.setDataset(r.datasource).then(function(e){var a=e.payload.rownames.filter(function(t){return t.indexOf("mtx.mrna")>=0});a=a[a.length-1].replace(".RData",""),t.setBusyMessage("Creating PLSR Matrix"),t.getPLSR(r.datasource,a).then(function(){t.setBusyMessage("Loading Gene Sets"),t.getGeneSetNames().then(function(e){r.geneSets=e.payload,r.geneSet=r.geneSets[0],t.setBusyMessage("Loading Patients"),t.getSummarizedPLSRPatientAttributes().then(function(t){var e=t.payload;r.deathMinValue=Math.floor(e.AgeDx[0]/365.24),r.deathMaxValue=Math.floor(e.AgeDx[4]/365.24),r.survivalMinValue=Math.floor(e.Survival[0]/365.24),r.survivalMaxValue=Math.floor(e.Survival[4]/365.24),o.$watch("vm.geneSet",function(){d(!1)})})})})});var d=function(e){t.setBusyMessage("Calculating PLSR");var a=[{name:"Survival",low:365.24*Number(r.survivalMinFilter),high:365.24*Number(r.survivalMaxFilter)},{name:"AgeDx",low:365.24*Number(r.deathMinFilter),high:365.24*Number(r.deathMaxFilter)}];t.getCalculatedPLSR(r.geneSet,a).then(function(a){t.setBusyMessage("Rendering PLSR");var n=a.payload,o=n.loadings.map(function(t,e){return t.name=n.loadingNames[e],t}),i=n.vectors.map(function(t,e){return t.name=n.vectorNames[e],t}),s=1.2*n.maxValue;e?c.update(s,i,o):c.create(s,i,o),t.setBusy(!1)})}}t.$inject=["osApi","$state","$stateParams","$timeout","$scope","d3","$sce"];var e={restrict:"E",templateUrl:"app/components/plsr/plsr.html",controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("oncoscape").directive("osPlsr",t)}(),function(){"use strict";function t(){function t(t,e,a,n,o,i){var s=this;s.datasource=a.datasource||"DEMOdz",s.geneSets=[],s.geneSet=null,s.toggleFilter=function(){angular.element(".container-filters").toggleClass("container-filters-collapsed"),angular.element(".container-filter-toggle").toggleClass("container-filter-toggle-collapsed")};var r=angular.element("#pca-chart"),l=i.select("#pca-chart").append("svg").attr("id","chart"),c=l.append("g"),d=l.append("g");t.setBusy(!0)("Loading Dataset"),t.setDataset(s.datasource).then(function(e){var a=e.payload.rownames.filter(function(t){return t.indexOf("mtx.mrna")>=0});a=a[a.length-1].replace(".RData",""),t.setBusyMessage("Creating PCA Matrix"),t.getPCA(s.datasource,a).then(function(){t.setBusyMessage("Loading Gene Sets"),t.getGeneSetNames().then(function(t){s.geneSets=t.payload,s.geneSet=s.geneSets[0],o.$watch("vm.geneSet",function(){p()})})})});var p=function(){t.setBusyMessage("Calculating PCA"),t.getCalculatedPCA(s.geneSet).then(function(e){t.setBusyMessage("Rendering PCA");var a=e.payload;s.pc1=e.payload["importance.PC1"],s.pc2=e.payload["importance.PC2"],u(a.scores),t.setBusy(!1)})},u=function(t){var e,a,n=r.width(),o=r.height();e=i.max(t,function(t){return+t[0]}),a=i.min(t,function(t){return+t[0]});var s=1.2*(Math.abs(e)>Math.abs(a)?e:a);e=i.max(t,function(t){return+t[1]}),a=i.min(t,function(t){return+t[1]});var p=1.2*(Math.abs(e)>Math.abs(a)?e:a),u=i.scale.linear().domain([-s,s]).range([0,n]),h=i.scale.linear().domain([-p,p]).range([o,0]),g=i.svg.axis().scale(u).orient("top").ticks(5),m=i.svg.axis().scale(h).orient("left").ticks(5);l.attr("width",n).attr("height",o);var f=l.selectAll("circle").data(t,function(t){return t});f.enter().append("circle").attr("cx",.5*n).attr("cy",.5*o).attr("r",function(){return 3}).style("fill-opacity","0").transition().duration(750).delay(function(t,e){return e/300*500}).attr("cx",function(t){return u(t[0])}).attr("cy",function(t){return h(t[1])}).style("fill-opacity",1),f.exit().transition().duration(600).delay(function(t,e){return e/300*500}).attr("cx",.5*n).attr("cy",.5*o).style("fill-opacity","0").remove(),c.attr("class","axis").attr("transform","translate(0, "+h(0)+")").call(g).append("text").text("PC1"),d.attr("class","axis").attr("transform","translate("+u(0)+", 0)").call(m).append("text").attr("y",10).attr("dy",".71em").text("PC2")}}t.$inject=["osApi","$state","$stateParams","$timeout","$scope","d3"];var e={restrict:"E",templateUrl:"app/components/pca/pca.html",controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("oncoscape").directive("osPca",t)}(),function(){"use strict";function t(){function t(t,e,a,n,o,i){function s(){var t="rgb(5, 108, 225)",e="red",a="rgb(56, 52,123)",n="green";return[{selector:"node",style:{content:"data(label)","text-valign":"center","text-halign":"center",shape:"ellipse",width:"60px",height:"50px",color:t,"background-color":"rgb(250, 250, 250)","border-width":"2px","border-color":t}},{selector:"edge",style:{width:"2px","line-color":t,"line-style":"solid"}},{selector:'node[nodeType="class"], node[nodeType="family"], node[nodeType="complex"]',style:{content:"","background-color":"white",shape:"roundrectangle"}},{selector:'edge[edgeType="activates"], edge[edgeType="indirectly activates"]',style:{"line-color":n,"target-arrow-shape":"triangle","target-arrow-color":n}},{selector:'edge[edgeType="inhibits"], edge[edgeType="ubiquitinylates"]',style:{"line-color":e,"target-arrow-shape":"tee","target-arrow-color":e}},{selector:'edge[edgeType="fusion"]',style:{"line-color":n}},{selector:'edge[edgeType="contains"]',style:{display:"none"}},{selector:'node[nodeType="process"]',style:{}},{selector:"node:selected",style:{"overlay-opacity":"0.5","overlay-color":"red"}},{selector:'node[nodeType="rtk"]',style:{content:"data(label)","background-color":"rgb(224, 209, 178)","border-color":"black","border-width":"0px","font-size":"48px",shape:"roundrectangle",width:"40px",height:"160px"}},{selector:'node[nodeType="kinase"]',style:{content:"data(label)","background-color":"rgb(255, 206, 194)",shape:"ellipse",width:"160px",height:"120px","font-size":"48px","border-color":"black","border-width":"1px"}},{selector:'node[nodeType="dimer"]',style:{content:"","background-color":"rgb(234, 219, 188)",shape:"ellipse",width:"160px",height:"120px","font-size":"48px","border-color":"black","border-width":"0px"}},{selector:'node[nodeType="loop"]',style:{content:"","background-color":"rgb(255, 255, 255)",shape:"ellipse",width:"160px",height:"120px","font-size":"48px","border-color":"black","border-width":"1px","border-style":"dotted"}},{selector:'node[nodeType="gtpase"]',style:{content:"data(label)","background-color":"rgb(194, 194, 255)",shape:"ellipse",width:"160px",height:"120px","font-size":"48px","border-color":"black","border-width":"1px"}},{selector:'node[nodeType="adaptor"]',style:{content:"data(label)","background-color":"rgb(77, 184, 255)",shape:"ellipse",width:"60px",height:"120px","font-size":"48px","border-color":"black","border-width":"1px"}},{selector:'node[nodeType="GEF"]',style:{content:"data(label)","background-color":"rgb(77, 184, 255)",shape:"ellipse",width:"60px",height:"60px","font-size":"48px","border-color":"black","border-width":"1px"}},{selector:'node[nodeType="process"]',style:{content:"data(label)","background-color":"rgb(255, 255, 255)",shape:"roundrectangle",width:"100px",height:"40px","font-size":"24px","border-color":"black","border-width":"0px"}},{selector:'node[nodeType="TF"]',style:{content:"data(label)","background-color":"rgb(255, 206, 94)",shape:"diamond",width:"160px",height:"60px","font-size":"48px","border-color":"black","border-width":"1px"}},{selector:'node[nodeType="gene fusion"]',style:{content:"data(label)",shape:"roundrectangle","font-size":"24px","border-color":"red","border-width":"3px"}},{selector:"edge:selected",style:{"overlay-color":"grey","overlay-opacity":"0.3"}},{selector:'edge[edgeType="recruits"]',style:{width:"2px"}},{selector:'edge[edgeType="fusion"]',style:{"line-color":a}},{selector:'edge[edgeType="recruits"]',style:{"line-color":"red",width:"1px","line-style":"dashed","target-arrow-shape":"triangle","target-arrow-color":"black"}},{selector:'edge[edgeType="cycles"]',style:{"line-color":"black",width:"1px","line-style":"dashed","target-arrow-shape":"triangle","source-arrow-shape":"triangle","target-arrow-color":"green","source-arrow-color":"red"}},{selector:'edge[edgeType="associates"]',style:{"line-color":"black",width:"1px","line-style":"solid"}},{selector:'edge[edgeType="activation"]',style:{"line-color":"green",width:"1px"}},{selector:'edge[edgeType="inhibition"]',style:{"line-color":"red",width:"1px"}}]}var r,l=this;l.datasource=a.datasource||"DEMOdz",l.toggleFilter=function(){angular.element(".container-filters").toggleClass("container-filters-collapsed"),angular.element(".container-filter-toggle").toggleClass("container-filter-toggle-collapsed")},l.search="",l.frame,l.tip=null;var c,d=angular.element("#gbm-chart");n.$watch("vm.search",function(){if(!angular.isUndefined(c)){var t=l.search.toUpperCase(),e=t.length;c.nodes().map(function(a){0==e?a.unselect():a.attr("name").substr(0,e)===t?a.select():a.unselect()})}}),t.setBusy(!0),t.setDataset(l.datasource).then(function(){t.getPathway().then(function(e){r=angular.fromJson(e.payload),c=i({container:d,elements:r.elements,style:s(),layout:{name:"preset",fit:!0}}).on("select","node",function(t){angular.element("#gbm-webpage").modal();var e="http://www.genecards.org/cgi-bin/carddisp.pl?gene="+t.cyTarget.data().id;n.$apply(function(){l.frame=o.trustAsResourceUrl(e)})}).on("select","edge",function(t){angular.element("#gbm-webpage").modal();var e="http://www.ncbi.nlm.nih.gov/pubmed/?term="+t.cyTarget.data().pmid;n.$apply(function(){l.frame=o.trustAsResourceUrl(e)})}).on("mouseover","edge",function(t){n.$apply(function(){l.tip=t.cyTarget.data().source+" Extract"}),t.cyTarget.style({width:"4px"})}).on("mouseout","edge",function(t){n.$apply(function(){l.tip=null}),t.cyTarget.style({width:"2px"})}).on("mouseover","node",function(t){n.$apply(function(){l.tip=t.cyTarget.data().name+" Gene Card"})}).on("mouseout","node",function(){n.$apply(function(){l.tip=null})}),t.setBusy(!1)})})}t.$inject=["osApi","$state","$stateParams","$scope","$sce","cytoscape"];var e={restrict:"E",templateUrl:"app/components/pathways/pathways.html",controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("oncoscape").directive("osPathways",t)}(),function(){"use strict";function t(t,e){function a(){var e=null,a=null,n=function(t){a.children=a.children||[],a.children.push(t),a=t,c.dispatch(a),d.dispatch(a)},o=function(t){},i=function(){},s=function(t){a=t.parent?t:null,d.dispatch(t)},r=function(t){e=a={icon:t,name:t,ids:[],children:[],depth:0}},l=function(){return e},c=new t.Signal,d=new t.Signal;return{filter:l,add:n,remove:o,removeAll:i,select:s,onChange:c,onSelect:d,get:l,set:r}}this.getUser=function(){return{name:"",password:"",domain:{name:"Guest"},authenticated:!1,token:null}},this.setDatasource=function(t){this.patientFilters.set(t)},this.patientFilters=a(),this.geneFilters=a()}t.$inject=["signals","osApi"],angular.module("oncoscape").service("osState",t)}(),function(){"use strict";function t(t,e,a,n,o){var i={},s=1,r=function(){return 9999==s&&(s=1),s++},l=new t("http://"+o+"/oncoscape","",{debug:!0,devel:!0});l.onmessage=function(t){var e=angular.fromJson(t.data);if(angular.isDefined(i[e.cmd])){var a=i[e.cmd];delete i[e.cmd],a.resolve(e)}else n.error("Unhandled message: %o",e)};var c=function(t){t.callback=r(),t.status="request",t.payload=t.payload||"";var e=a.defer();return i[t.callback]=e,0===l.readyState?l.onopen=function(){l.send(angular.toJson(t))}:l.send(angular.toJson(t)),e.promise.then(function(e){return t.response=e,e})};return{request:c}}t.$inject=["SockJS","$rootScope","$q","$log","domain"],angular.module("oncoscape").factory("osSocket",t)}(),function(){"use strict";function t(t,e){function a(t){var a={method:"POST",url:"/login/",data:{username:t.name,password:t.password,domain:t.domain.name}};return e(a).then(function(e){e.data.success?(t.authenticated=!0,t.token=e.data.token):(t.authenticated=!1,t.token=null)})}function n(t){return t?angular.element(".loader-modal").show():angular.element(".loader-modal").hide(),o}function o(){}function i(){return[{name:"Guest"},{name:"FHCRC"},{name:"SCCA"}]}function s(e){return t.request({cmd:"specifyCurrentDataset",payload:e})}function r(){return t.request({cmd:"getDataSetNames"})}function l(e){return t.request({cmd:"getDataManifest",payload:e})}function c(e){return t.request({cmd:"getPatientHistoryTable",payload:{datasetName:e,durationFormat:"byYear"}})}function d(){}function p(){}function u(){return t.request({cmd:"getGeneSetNames"})}function h(){return t.request({cmd:"getSampleCategorizationNames"})}function g(e){return t.request({cmd:"getSampleCategorization",payload:e})}function m(e){return t.request({cmd:"getMarkersNetwork",payload:e})}function f(){}function v(){}function y(){}function b(){}function w(e,a){var n={dataPackage:e,matrixName:a};return t.request({cmd:"createPCA",payload:n})}function x(e){var a={genes:e};return t.request({cmd:"calculatePCA",payload:a})}function C(e,a){var n={dataPackage:e,matrixName:a};return t.request({cmd:"createPLSR",payload:n})}function T(e,a){var n={genes:e,factorCount:a.length,factors:a};return t.request({cmd:"calculatePLSR",payload:n})}function $(e){return e=e||["AgeDx","Survival"],t.request({cmd:"summarizePLSRPatientAttributes",payload:e})}function k(){}function S(){return t.request({cmd:"createTimelines"})}function A(){}function E(){return t.request({cmd:"getModuleModificationDate",payload:"gbmPathways"})}function D(){return t.request({cmd:"getPathway",payload:"g.gbmPathways.json"})}function M(e,a){return t.request({cmd:"get_mRNA_data",payload:{entities:e,features:a}})}function P(e,a){return t.request({cmd:"get_cnv_data",payload:{entities:e,features:a}})}function N(e,a){return t.request({cmd:"get_mutation_data",payload:{entities:e,features:a}})}this.setBusy=n,this.setBusyMessage=o,this.login=a,this.setDataset=s,this.showFilter=function(){angular.element("#filter-dropdown").slideDown()},this.hideFilter=function(){angular.element("#filter-dropdown").slideUp()},this.getDomains=i,this.getDataSetNames=r,this.getDataManifest=l,this.getPatientHistoryTable=c,this.getPatientHistoryDxAndSurvivalMinMax=d,this.getSampleDataFrame=p,this.getGeneSetNames=u,this.getSampleCategorizationNames=h,this.getSampleCategorization=g,this.getMarkersNetwork=m,this.getPathway=D,this.getDrugGeneInteractions=f,this.getCanonicalizePatientIDsInDataset=v,this.getGeneSetGenes=y,this.getOncoprintDataSelection=b,this.getPCA=w,this.getCalculatedPCA=x,this.getPLSR=C,this.getCalculatedPLSR=T,this.getSummarizedPLSRPatientAttributes=$,this.getCalculatedSurvivalCurves=k,this.getTimelines=S,this.getCalculatedTimelines=A,this.getMrnaData=M,this.getCnvData=P,this.getMutationData=N,this.getModuleModificationDate=E}t.$inject=["osSocket","$http"],angular.module("oncoscape").service("osApi",t)}(),function(){"use strict";function t(){function t(t,e,a,n,o){var i=this;i.dataset=o.datasource||"DEMOdz",i.colnames=[],i.rows=[],i.search="",i.toggleFilter=function(){angular.element(".container-filters").toggleClass("container-filters-collapsed"),angular.element(".container-filter-toggle").toggleClass("container-filter-toggle-collapsed")};var s;t.setBusy(!0),t.getDataManifest(i.dataset).then(function(e){i.colnames=e.payload.colnames,i.rows=e.payload.mtx,a(function(){s=angular.element("#metadata-datatable").dataTable({paging:!1}),n.$watch("vm.search",function(){s.api().search(i.search).draw()}),t.setBusy(!1)},0,!1)})}t.$inject=["osApi","$state","$timeout","$scope","$stateParams"];var e={restrict:"E",templateUrl:"app/components/metadata/metadata.html",controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("oncoscape").directive("osMetadata",t)}(),function(){"use strict";function t(){function t(t,e,a,n,o,i,s,r){var l={darkblue:"rgb(5, 108, 225)",blue:"rgb(19, 150, 222)",black:"black",white:"white",red:"red",purple:"rgb(56, 52,123)",gray:"#CCC"},c=[{selector:"node",style:{"background-color":l.black,"border-opacity":1,"border-color":l.red,"border-width":"0px",height:"20px",width:"20px",label:" data(id)","text-halign":"right","text-valign":"center","text-background-color":l.white,"text-background-opacity":".8","text-background-shape":"roundrectangle","font-size":"0px"}},{selector:'node[nodeType="patient"]',style:{"background-color":l.blue,height:"50px",width:"50px"}},{selector:"edge",style:{"line-color":l.gray,"line-style":"solid",width:"3px",display:"none"}},{selector:'edge[edgeType="chromosome"]',style:{"line-color":l.darkblue,display:"element"}},{selector:'node[nodeType="gene"]',style:{"border-color":l.blue,"border-width":"3px","background-color":l.white,height:"mapData(degree, 0, 50, 10.0, 80.0)",width:"mapData(degree, 0, 50, 10.0, 80.0)"}},{selector:'node[nodeType="patient"]:selected',style:{"background-color":l.red,width:"100px",height:"100px",shape:"diamond"}}],d=function(t,e){var a=function(){var t=new s.Signal,e=new s.Signal,a=new s.Signal,n=new s.Signal,o=new s.Signal,i=new s.Signal,r=function(){t.removeAll(),e.removeAll(),n.removeAll(),o.removeAll(),a.removeAll(),i.removeAll()},l=function(e){t.add(e),n.add(e)},c=function(t){e.add(t),o.add(t)},d=function(t){a.add(t),i.add(t)};return{geneOver:t,geneOut:e,geneClick:a,patientOver:n,patientOut:o,patientClick:i,over:l,out:c,click:d,removeAll:r}}();t.on("click",'node[nodeType="gene"]',a.geneClick.dispatch).on("click",'node[nodeType="patient"]',a.patientClick.dispatch).on("mouseover",'node[nodeType="gene"]',a.geneOver.dispatch).on("mouseover",'node[nodeType="patient"]',a.patientOver.dispatch).on("mouseout",'node[nodeType="gene"]',a.geneOut.dispatch).on("mouseout",'node[nodeType="patient"]',a.patientOut.dispatch);var o=[{name:"None",register:function(){},unregister:function(){}},{name:"Show All Edges",register:function(){a.over(function(t){"patient"==t.cyTarget.data().nodeType&&n.$apply(function(){e.patient=t.cyTarget.attr("patient"),e.patientChromosomes=t.cyTarget.neighborhood("node").map(function(t){return t.data().id})}),t.cyTarget.style({"font-size":"100px"}),t.cyTarget.animate({style:{"border-width":150}},{duration:300}),t.cyTarget.neighborhood("node").style({"font-size":"70px"})}),a.out(function(t){n.$apply(function(){e.patient=e.patientChromosomes=null}),t.cyTarget.style({"font-size":"0px"}),t.cyTarget.animate({style:{"border-width":0}},{duration:100}),t.cyTarget.neighborhood("node").style({"font-size":"0px"})}),t.$('edge[edgeType!="chromosome"]').style({display:"element"})},unregister:function(){a.removeAll(),t.$('edge[edgeType!="chromosome"]').style({display:"none"})}},{name:"One Degree",register:function(){a.click(function(t){var a=e.datasource;if(a.indexOf(!1)){var o=a.substr(4)+"_tcga",i=t.cyTarget.neighborhood("node").map(function(t){return t.data().name}).join("+"),s="http://www.cbioportal.org/ln?cancer_study_id="+o+"&q="+i;n.$apply(function(){r.open(s)})}}),a.over(function(t){"patient"==t.cyTarget.data().nodeType&&n.$apply(function(){e.patient=t.cyTarget.attr("patient"),e.patientChromosomes=t.cyTarget.neighborhood("node").map(function(t){return t.data().id})}),t.cyTarget.style({height:"60px",width:"60px","font-size":"100px"}),t.cyTarget.neighborhood("node").style({"font-size":"70px"}),t.cyTarget.neighborhood("edge").style({display:"element"})}),a.out(function(t){n.$apply(function(){e.patient=e.patientChromosomes=null}),t.cyTarget.style({"font-size":"0px"}),t.cyTarget.neighborhood("node").style({"font-size":"0px"}),t.cyTarget.neighborhood("edge").style({display:"none"})})},unregister:function(){a.removeAll()}},{name:"Two Degrees",register:function(){a.over(function(t){"patient"==t.cyTarget.data().nodeType&&n.$apply(function(){e.patient=t.cyTarget.attr("patient"),e.patientChromosomes=t.cyTarget.neighborhood("node").map(function(t){return t.data().id})}),t.cyTarget.style({height:"60px",width:"60px","font-size":"100px"}),t.cyTarget.neighborhood("node").neighborhood("edge").style({"line-style":"dashed",display:"element"}),t.cyTarget.neighborhood("edge").style({"line-style":"solid"})}),a.out(function(t){n.$apply(function(){e.patient=e.patientChromosomes=null}),t.cyTarget.style({"font-size":"0px"}),t.cyTarget.neighborhood("node").neighborhood("edge").style({"line-style":"solid",display:"none"})})},unregister:function(){a.removeAll()}}];return n.$watch("vm.optInteractiveMode",function(t,e){e.unregister(),t.register()}),o},p=function(t,e,a){var n=function(n){t.$('node[nodeType="patient"]').style({"background-color":"rgb(19, 150, 222)"}),a.getSampleCategorization(n.name).then(function(a){e.legandNodes=a.payload.tbl.map(function(t){return t[0]+"|"+t[1]}).filter(function(t,e,a){return a.indexOf(t)===e}).map(function(t){var e=t.split("|");return{name:e[0],color:e[1]}}),t.$('node[nodeType="patient"]').forEach(function(t){for(var e=t.data().id,a=0;a<this.rownames.length;a++)if(e===this.rownames[a]){t.style({"background-color":this.tbl[a][1]});break}},a.payload)})};a.getSampleCategorizationNames().then(function(t){e.optNodeColors=e.optNodeColors.concat(t.payload.map(function(t){return{name:t,fn:n}}))}),e.legandNodes=[{name:"Patients",color:"#3993fa"}];var o=[{name:"Default",fn:function(){e.legandNodes=[{name:"Patients",color:"#3993fa"}],t.$('node[nodeType="patient"]').style({"background-color":"rgb(19, 150, 222)"})}},{name:"Gender",fn:function(){e.legandNodes=[{name:"Male",color:"blue"},{name:"Female",color:"pink"}],t.$('node[nodeType="patient"]').forEach(function(t){t.data().patient&&t.style({"background-color":"male"===t.data().patient[2]?"rgb(5, 108, 225)":"female"===t.data().patient[2]?"pink":"black"})})}},{name:"Age At Diagnosis",fn:function(){e.legandNodes=[{name:"Young",color:"green"},{name:"Old",color:"red"}],t.$('node[nodeType="patient"]').forEach(function(t){if(t.data().patient){var e=t.data().patient[4];t.style({"background-color":"rgb("+255*e/100+","+255*(100-e)/100+",0)"})}})}}];return e.optNodeColor=o[0],o},u=function(t){var e=function(e){var a=angular.element("."+e["class"]);switch(e.state){case"Visible":e.state="Highlight",a.css("border-color",e.color),t.$('edge[edgeType="'+e.name+'"]').style({"line-color":e.color,width:"5px"});break;case"Hidden":e.state="Visible",a.css("border-color",l.gray),t.$('edge[edgeType="'+e.name+'"]').style({"line-color":"#CCC",width:"5px"});break;default:e.state="Hidden",a.css("border-color",l.white),t.$('edge[edgeType="'+e.name+'"]').style({width:"0px"})}},n=[{name:"mutation","class":"edgeMutation",color:"#004358",state:"Highlight",fn:e},{name:"cnGain.1","class":"edgeCnGain1",color:"#1F8A70",state:"Highlight",fn:e},{name:"cnLoss.1","class":"edgeCnLoss1",color:"#BEDB39",state:"Highlight",fn:e},{name:"cnGain.2","class":"edgeCnGain2",color:"#FFE11A",state:"Highlight",fn:e},{name:"cnLoss.2","class":"edgeCnLoss2",color:"#FD7400",state:"Highlight",fn:e}];return a(function(){n.forEach(function(e){angular.element("."+e["class"]).css("border-color",e.color),t.$('edge[edgeType="'+e.name+'"]').style({"line-color":e.color,width:"5px"})})}),n},h=function(t,e){var a=[{name:"Hobo",fn:function(a){e.optPatientLayout=a,t.$('node[nodeType="patient"]').forEach(function(t){t.position(t.data().pos)})}},{name:"Age At Diagnosis",fn:function(a){e.optPatientLayout=a,t.$('node[nodeType="patient"]').forEach(function(t){t.data().patient&&t.position({x:500,y:60*t.data().patient[4]-3e3})})}},{name:"Gender",fn:function(a){e.optPatientLayout=a;var n=1e3,o=1e3;t.$('node[nodeType="patient"]').forEach(function(t){t.data().patient&&("male"==t.data().patient[2].toLowerCase()?t.position({x:n-=50,y:500}):t.position({x:o-=50,y:-500}))})}}];return e.optPatientLayout=a[0],a},g=this;g.datasource=o.datasource||"DEMOdz",g.optInteractiveModes,g.optInteractiveMode,g.optPatientLayouts,g.optPatientLayout,g.optNodeColors,g.optNodeColor,g.optEdgeColors,g.legandNodes,g.legandPatient,g.legandChromosomes,g.frame,g.toggleFilter=function(){angular.element(".container-filters").toggleClass("container-filters-collapsed"),angular.element(".container-filter-toggle").toggleClass("container-filter-toggle-collapsed")};var m,f=angular.element("#markers-chart"),v={patient:null,markers:null};t.setBusy(!0),t.setDataset(g.datasource).then(function(){t.getPatientHistoryTable(g.datasource).then(function(e){v.patient=e.payload,t.getMarkersNetwork(e.payload).then(function(e){v.markers=angular.fromJson(e.payload),v.markers.elements.nodes.filter(function(t){return"patient"===t.data.nodeType}).map(function(t){t.data.pos={x:t.position.x,y:t.position.y},t.data.patient=v.patient.tbl.filter(function(e){return e[0]===t.data.id})[0]}),m=i({container:f,elements:v.markers.elements,style:c,layout:{name:"preset",fit:!0}}),g.optPatientLayouts=h(m,g),g.optEdgeColors=u(m,g,a),g.optNodeColors=p(m,g,t),g.optInteractiveModes=d(m,g,n),g.optInteractiveMode=g.optInteractiveModes[0],t.setBusy(!1)})})})}t.$inject=["osApi","$state","$timeout","$scope","$stateParams","cytoscape","signals","$window"];var e={restrict:"E",templateUrl:"app/components/markers/markers.html",scope:{},controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("oncoscape").directive("osMarkers",t)}(),function(){"use strict";function t(){function t(t,e,a){var n=this;n.domains=t.getDomains(),n.user=e.getUser(),n.hasError=!1,n.login=function(){t.login(n.user).then(function(){n.user.authenticated?a.go("datasource"):n.hasError=!0})}}t.$inject=["osApi","osState","$state"];var e={restrict:"E",templateUrl:"app/components/login/login.html",replace:!0,controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("oncoscape").directive("osLogin",t)}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"app/components/loader/loader.html",replace:!0};return t}angular.module("oncoscape").directive("osLoader",t)}(),function(){"use strict";function t(){function t(t){var e=this;e.login=function(){t.go("login")}}t.$inject=["$state"];var e={restrict:"E",templateUrl:"app/components/landing/landing.html",replace:!0,controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("oncoscape").directive("osLanding",t)}(),function(){"use strict";function t(){function t(t,e,a,n,o,i){function s(t){var e;if(0===t.depth)e=r.tbl;else{var a=t.ids,n=a.length;e=r.tbl.filter(function(t){for(var e=t[0],o=0;n>o;o++)if(e===a[o])return!0;return!1})}var o=e.map(function(t){return t[4]}),i=e.map(function(t){return t[3]});l.diagnosisMin=l.diagnosisMinValue=Math.floor(Math.min.apply(null,o)),l.diagnosisMax=l.diagnosisMaxValue=Math.ceil(Math.max.apply(null,o)),l.survivalMin=l.survivalMinValue=Math.floor(Math.min.apply(null,i)),l.survivalMax=l.survivalMaxValue=Math.floor(Math.max.apply(null,i)),c.fnClearTable(),c.fnAddData(e)}var r,l=this;l.datasource=i.datasource||"DEMOdz",null==e.patientFilters.get()&&e.patientFilters.set(l.datasource),l.colnames=[],l.rows=[],l.diagnosisMin=l.diagnosisMinValue=1,l.diagnosisMax=l.diagnosisMaxValue=99,l.survivalMin=l.survivalMinValue=0,l.survivalMax=l.survivalMaxValue=10,l.search="",l.toggleFilter=function(){angular.element(".container-filters").toggleClass("container-filters-collapsed"),angular.element(".container-filter-toggle").toggleClass("container-filter-toggle-collapsed")},l.applyFilter=function(){angular.element.fn.DataTable.ext.search=[function(t,e){var a=parseFloat(e[3]),n=parseFloat(e[4]);return isNaN(a)||isNaN(n)?!1:n>=l.diagnosisMin&&n<=l.diagnosisMax&&a>=l.survivalMin&&a<=l.survivalMax}],c.api().draw()},l.cohort,l.createCohort=function(){e.patientFilters.add({icon:"history",name:l.cohort,ids:c._("tr",{filter:"applied"}).map(function(t){return t[0]})})},e.patientFilters.onSelect.add(s);var c;t.setBusy(!0),t.setDataset(l.datasource).then(function(){
t.getPatientHistoryTable(l.datasource).then(function(e){r=e.payload,l.colnames=r.colnames,l.rows=r.tbl,n(function(){c=angular.element("#history-datatable").dataTable({scrollY:"70vh",paging:!1}),o.$watch("vm.search",function(){c.api().search(l.search).draw()}),t.setBusy(!1)},0,!1)})})}t.$inject=["osApi","osState","$state","$timeout","$scope","$stateParams"];var e={restrict:"E",templateUrl:"app/components/history/history.html",controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("oncoscape").directive("osHistory",t)}(),function(){"use strict";function t(){function t(t,e,a,n){var o=this;o.datasource=a.datasource||"DEMOdz",o.toolsClick=function(){n.go("tools",{datasource:o.datasource})},o.cohortClick=function(){t.showFilter()}}t.$inject=["osApi","osState","$stateParams","$state"];var e={restrict:"E",templateUrl:"app/components/header/header.html",scope:{},controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("oncoscape").directive("osHeader",t)}(),function(){"use strict";function t(){function t(){}var e={restrict:"E",templateUrl:"app/components/footer/footer.html",controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("oncoscape").directive("osFooter",t)}(),function(){"use strict";function t(){function t(t,e,a){var n=this;n.datasets=[],n.explore=function(t,n){a.setDatasource(n),e.go(t,{datasource:n})},t.setBusy(!0),t.getDataSetNames().then(function(e){n.datasets=e.payload.datasets,t.setBusy(!1)})}t.$inject=["osApi","$state","osState"];var e={restrict:"E",templateUrl:"app/components/datasource/datasource.html",controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("oncoscape").directive("osDatasource",t)}(),function(){"use strict";function t(){function t(t,e,a,n){function o(t){var a=d.nodes(t).reverse(),n=d.links(a);a.forEach(function(t){t.y=150*t.depth});var o=u.selectAll("g.node").data(a,function(t){return t.id||(t.id=++c)}),i=o.enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.y+","+t.x+")"}).on("click",function(t){e.patientFilters.select(t)});i.append("circle").attr("r",function(t){return null==t.parent?50:35}),i.append("text").attr("x",function(t){return 0}).attr("y",function(t){return 30}).text(function(t){return t.name}).attr("text-anchor","middle").attr("font-size","20px").attr("fill","#59a5fb"),i.append("image").attr("xlink:href",function(t){return"./assets/images/datasets/"+t.icon+".png"}).attr("x",function(t){return null==t.parent?-50:-35}).attr("y",function(t){return null==t.parent?-50:-35}).attr("width",function(t){return null==t.parent?100:70}).attr("height",function(t){return null==t.parent?100:70}).style("display",function(t){return null==t.icon?"none":null});var s=u.selectAll("path.link").data(n,function(t){return t.target.id});s.enter().insert("path","g").attr("class","link").style("stroke","#3993fa").attr("d",p)}var i=this;i.datasource=a.datasource||"DEMOdz",null==e.patientFilters.get()&&e.patientFilters.set(i.datasource),i.close=function(){t.hideFilter()},e.patientFilters.onChange.add(function(){t.showFilter(),o(e.patientFilters.get())});var s={top:20,right:20,bottom:30,left:40},r=1e3-s.left-s.right,l=250-s.top-s.bottom,c=0,d=n.layout.tree().size([l,r]),p=n.svg.diagonal().projection(function(t){return[t.y,t.x]}),u=n.select("#filters-chart").append("svg").attr("width",r+s.right+s.left).attr("height",l+s.top+s.bottom).append("g").attr("transform","translate(400,"+s.top+")");o(e.patientFilters.get())}t.$inject=["osApi","osState","$stateParams","d3"];var e={restrict:"E",templateUrl:"app/components/filters/filters.html",scope:{},controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("oncoscape").directive("osFilters",t)}(),function(){"use strict";function t(){function t(){}var e={restrict:"E",templateUrl:"app/components/compare/compare.html",controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("oncoscape").directive("osCompare",t)}(),function(){"use strict";function t(t,e){e.$on("$stateChangeStart",function(){angular.element.fn.DataTable.ext.search=[]}),t.debug("runBlock end")}t.$inject=["$log","$rootScope"],angular.module("oncoscape").run(t)}(),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var a in e)if(void 0!==t.style[a])return{end:e[a]};return!1}t.fn.emulateTransitionEnd=function(e){var a=!1,n=this;t(this).one("bsTransitionEnd",function(){a=!0});var o=function(){a||t(n).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),o=a.data("bs.alert");o||a.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(a)})}var a='[data-dismiss="alert"]',n=function(e){t(e).on("click",a,this.close)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function a(){s.detach().trigger("closed.bs.alert").remove()}var o=t(this),i=o.attr("data-target");i||(i=o.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var s=t(i);e&&e.preventDefault(),s.length||(s=o.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",a,n.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.button"),i="object"==typeof e&&e;o||n.data("bs.button",o=new a(this,i)),"toggle"==e?o.toggle():e&&o.setState(e)})}var a=function(e,n){this.$element=t(e),this.options=t.extend({},a.DEFAULTS,n),this.isLoading=!1};a.VERSION="3.3.6",a.DEFAULTS={loadingText:"loading..."},a.prototype.setState=function(e){var a="disabled",n=this.$element,o=n.is("input")?"val":"html",i=n.data();e+="Text",null==i.resetText&&n.data("resetText",n[o]()),setTimeout(t.proxy(function(){n[o](null==i[e]?this.options[e]:i[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(a).attr(a,a)):this.isLoading&&(this.isLoading=!1,n.removeClass(a).removeAttr(a))},this),0)},a.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var a=this.$element.find("input");"radio"==a.prop("type")?(a.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==a.prop("type")&&(a.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),a.prop("checked",this.$element.hasClass("active")),t&&a.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=a,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(a){var n=t(a.target);n.hasClass("btn")||(n=n.closest(".btn")),e.call(n,"toggle"),t(a.target).is('input[type="radio"]')||t(a.target).is('input[type="checkbox"]')||a.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.carousel"),i=t.extend({},a.DEFAULTS,n.data(),"object"==typeof e&&e),s="string"==typeof e?e:i.slide;o||n.data("bs.carousel",o=new a(this,i)),"number"==typeof e?o.to(e):s?o[s]():i.interval&&o.pause().cycle()})}var a=function(e,a){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=a,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};a.VERSION="3.3.6",a.TRANSITION_DURATION=600,a.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},a.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},a.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},a.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},a.prototype.getItemForDirection=function(t,e){var a=this.getItemIndex(e),n="prev"==t&&0===a||"next"==t&&a==this.$items.length-1;if(n&&!this.options.wrap)return e;var o="prev"==t?-1:1,i=(a+o)%this.$items.length;return this.$items.eq(i)},a.prototype.to=function(t){var e=this,a=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):a==t?this.pause().cycle():this.slide(t>a?"next":"prev",this.$items.eq(t))},a.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},a.prototype.next=function(){return this.sliding?void 0:this.slide("next")},a.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},a.prototype.slide=function(e,n){var o=this.$element.find(".item.active"),i=n||this.getItemForDirection(e,o),s=this.interval,r="next"==e?"left":"right",l=this;if(i.hasClass("active"))return this.sliding=!1;var c=i[0],d=t.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=t(this.$indicators.children()[this.getItemIndex(i)]);p&&p.addClass("active")}var u=t.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,o.addClass(r),i.addClass(r),o.one("bsTransitionEnd",function(){i.removeClass([e,r].join(" ")).addClass("active"),o.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(u)},0)}).emulateTransitionEnd(a.TRANSITION_DURATION)):(o.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(u)),s&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=a,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var o=function(a){var n,o=t(this),i=t(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var s=t.extend({},i.data(),o.data()),r=o.attr("data-slide-to");r&&(s.interval=!1),e.call(i,s),r&&i.data("bs.carousel").to(r),a.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var a=t(this);e.call(a,a.data())})})}(jQuery),+function(t){"use strict";function e(e){var a,n=e.attr("data-target")||(a=e.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function a(e){return this.each(function(){var a=t(this),o=a.data("bs.collapse"),i=t.extend({},n.DEFAULTS,a.data(),"object"==typeof e&&e);!o&&i.toggle&&/show|hide/.test(e)&&(i.toggle=!1),o||a.data("bs.collapse",o=new n(this,i)),"string"==typeof e&&o[e]()})}var n=function(e,a){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,a),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.6",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var i=t.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){o&&o.length&&(a.call(o,"hide"),e||o.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[s](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var a=this.dimension();this.$element[a](this.$element[a]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[a](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(a,n){var o=t(n);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var a=t.hasClass("in");t.attr("aria-expanded",a),e.toggleClass("collapsed",!a).attr("aria-expanded",a)};var o=t.fn.collapse;t.fn.collapse=a,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=t(this);o.attr("data-target")||n.preventDefault();var i=e(o),s=i.data("bs.collapse"),r=s?"toggle":o.data();a.call(i,r)})}(jQuery),+function(t){"use strict";function e(e){var a=e.attr("data-target");a||(a=e.attr("href"),a=a&&/#[A-Za-z]/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,""));var n=a&&t(a);return n&&n.length?n:e.parent()}function a(a){a&&3===a.which||(t(o).remove(),t(i).each(function(){var n=t(this),o=e(n),i={relatedTarget:this};o.hasClass("open")&&(a&&"click"==a.type&&/input|textarea/i.test(a.target.tagName)&&t.contains(o[0],a.target)||(o.trigger(a=t.Event("hide.bs.dropdown",i)),a.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",i)))))}))}function n(e){return this.each(function(){var a=t(this),n=a.data("bs.dropdown");n||a.data("bs.dropdown",n=new s(this)),"string"==typeof e&&n[e].call(a)})}var o=".dropdown-backdrop",i='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.6",s.prototype.toggle=function(n){var o=t(this);if(!o.is(".disabled, :disabled")){var i=e(o),s=i.hasClass("open");if(a(),!s){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",a);var r={relatedTarget:this};if(i.trigger(n=t.Event("show.bs.dropdown",r)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(t.Event("shown.bs.dropdown",r))}return!1}},s.prototype.keydown=function(a){if(/(38|40|27|32)/.test(a.which)&&!/input|textarea/i.test(a.target.tagName)){var n=t(this);if(a.preventDefault(),a.stopPropagation(),!n.is(".disabled, :disabled")){var o=e(n),s=o.hasClass("open");if(!s&&27!=a.which||s&&27==a.which)return 27==a.which&&o.find(i).trigger("focus"),n.trigger("click");var r=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+r);if(l.length){var c=l.index(a.target);38==a.which&&c>0&&c--,40==a.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",a).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",i,s.prototype.toggle).on("keydown.bs.dropdown.data-api",i,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,n){return this.each(function(){var o=t(this),i=o.data("bs.modal"),s=t.extend({},a.DEFAULTS,o.data(),"object"==typeof e&&e);i||o.data("bs.modal",i=new a(this,s)),"string"==typeof e?i[e](n):s.show&&i.show(n)})}var a=function(e,a){this.options=a,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};a.VERSION="3.3.6",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},a.prototype.show=function(e){var n=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(a.TRANSITION_DURATION):n.$element.trigger("focus").trigger(i)}))},a.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(a.TRANSITION_DURATION):this.hideModal())},a.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},a.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},a.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(e){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},a.prototype.handleUpdate=function(){this.adjustDialog()},a.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},a.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},a.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},a.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},a.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=a,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var n=t(this),o=n.attr("href"),i=t(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},i.data(),n.data());n.is("a")&&a.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(i,s,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tooltip"),i="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||n.data("bs.tooltip",o=new a(this,i)),"string"==typeof e&&o[e]())})}var a=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};a.VERSION="3.3.6",a.TRANSITION_DURATION=150,a.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},a.prototype.init=function(e,a,n){if(this.enabled=!0,this.type=e,this.$element=t(a),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),i=o.length;i--;){var s=o[i];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var r="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},a.prototype.getDelegateOptions=function(){var e={},a=this.getDefaults();return this._options&&t.each(this._options,function(t,n){a[t]!=n&&(e[t]=n)}),e},a.prototype.enter=function(e){var a=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return a||(a=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,a)),e instanceof t.Event&&(a.inState["focusin"==e.type?"focus":"hover"]=!0),a.tip().hasClass("in")||"in"==a.hoverState?void(a.hoverState="in"):(clearTimeout(a.timeout),a.hoverState="in",a.options.delay&&a.options.delay.show?void(a.timeout=setTimeout(function(){"in"==a.hoverState&&a.show()},a.options.delay.show)):a.show())},a.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},a.prototype.leave=function(e){var a=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return a||(a=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,a)),e instanceof t.Event&&(a.inState["focusout"==e.type?"focus":"hover"]=!1),a.isInStateTrue()?void 0:(clearTimeout(a.timeout),a.hoverState="out",a.options.delay&&a.options.delay.hide?void(a.timeout=setTimeout(function(){"out"==a.hoverState&&a.hide()},a.options.delay.hide)):a.hide())},a.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var o=this,i=this.tip(),s=this.getUID(this.type);this.setContent(),i.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(r);c&&(r=r.replace(l,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),p=i[0].offsetWidth,u=i[0].offsetHeight;if(c){var h=r,g=this.getPosition(this.$viewport);r="bottom"==r&&d.bottom+u>g.bottom?"top":"top"==r&&d.top-u<g.top?"bottom":"right"==r&&d.right+p>g.width?"left":"left"==r&&d.left-p<g.left?"right":r,i.removeClass(h).addClass(r)}var m=this.getCalculatedOffset(r,d,p,u);this.applyPlacement(m,r);var f=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",f).emulateTransitionEnd(a.TRANSITION_DURATION):f()}},a.prototype.applyPlacement=function(e,a){var n=this.tip(),o=n[0].offsetWidth,i=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),r=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(r)&&(r=0),e.top+=s,e.left+=r,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==a&&c!=i&&(e.top=e.top+i-c);var d=this.getViewportAdjustedDelta(a,e,l,c);d.left?e.left+=d.left:e.top+=d.top;var p=/top|bottom/.test(a),u=p?2*d.left-o+l:2*d.top-i+c,h=p?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(u,n[0][h],p)},a.prototype.replaceArrow=function(t,e,a){this.arrow().css(a?"left":"top",50*(1-t/e)+"%").css(a?"top":"left","")},a.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},a.prototype.hide=function(e){function n(){"in"!=o.hoverState&&i.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,i=t(this.$tip),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",n).emulateTransitionEnd(a.TRANSITION_DURATION):n(),this.hoverState=null,this)},a.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},a.prototype.hasContent=function(){return this.getTitle()},a.prototype.getPosition=function(e){e=e||this.$element;var a=e[0],n="BODY"==a.tagName,o=a.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var i=n?{top:0,left:0}:e.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,s,r,i)},a.prototype.getCalculatedOffset=function(t,e,a,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-a/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-a/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-a}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},a.prototype.getViewportAdjustedDelta=function(t,e,a,n){var o={top:0,left:0};if(!this.$viewport)return o;var i=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-i-s.scroll,l=e.top+i-s.scroll+n;r<s.top?o.top=s.top-r:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var c=e.left-i,d=e.left+i+a;c<s.left?o.left=s.left-c:d>s.right&&(o.left=s.left+s.width-d)}return o},a.prototype.getTitle=function(){var t,e=this.$element,a=this.options;return t=e.attr("data-original-title")||("function"==typeof a.title?a.title.call(e[0]):a.title)},a.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},a.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},a.prototype.enable=function(){this.enabled=!0},a.prototype.disable=function(){this.enabled=!1},a.prototype.toggleEnabled=function(){
this.enabled=!this.enabled},a.prototype.toggle=function(e){var a=this;e&&(a=t(e.currentTarget).data("bs."+this.type),a||(a=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,a))),e?(a.inState.click=!a.inState.click,a.isInStateTrue()?a.enter(a):a.leave(a)):a.tip().hasClass("in")?a.leave(a):a.enter(a)},a.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=a,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.popover"),i="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||n.data("bs.popover",o=new a(this,i)),"string"==typeof e&&o[e]())})}var a=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");a.VERSION="3.3.6",a.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),a.prototype.constructor=a,a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),a=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof a?"html":"append":"text"](a),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},a.prototype.hasContent=function(){return this.getTitle()||this.getContent()},a.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=a,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(a,n){this.$body=t(document.body),this.$scrollElement=t(t(a).is(document.body)?window:a),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function a(a){return this.each(function(){var n=t(this),o=n.data("bs.scrollspy"),i="object"==typeof a&&a;o||n.data("bs.scrollspy",o=new e(this,i)),"string"==typeof a&&o[a]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,a="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(a="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),i=/^#./.test(o)&&t(o);return i&&i.length&&i.is(":visible")&&[[i[a]().top+n,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,a=this.getScrollHeight(),n=this.options.offset+a-this.$scrollElement.height(),o=this.offsets,i=this.targets,s=this.activeTarget;if(this.scrollHeight!=a&&this.refresh(),e>=n)return s!=(t=i[i.length-1])&&this.activate(t);if(s&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)s!=i[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(i[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var a=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(a).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=a,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);a.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new a(this)),"string"==typeof e&&o[e]()})}var a=function(e){this.element=t(e)};a.VERSION="3.3.6",a.TRANSITION_DURATION=150,a.prototype.show=function(){var e=this.element,a=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=a.find(".active:last a"),i=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(i),e.trigger(s),!s.isDefaultPrevented()&&!i.isDefaultPrevented()){var r=t(n);this.activate(e.closest("li"),a),this.activate(r,r.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},a.prototype.activate=function(e,n,o){function i(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var s=n.find("> .active"),r=o&&t.support.transition&&(s.length&&s.hasClass("fade")||!!n.find("> .fade").length);s.length&&r?s.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i(),s.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=a,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var o=function(a){a.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.affix"),i="object"==typeof e&&e;o||n.data("bs.affix",o=new a(this,i)),"string"==typeof e&&o[e]()})}var a=function(e,n){this.options=t.extend({},a.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};a.VERSION="3.3.6",a.RESET="affix affix-top affix-bottom",a.DEFAULTS={offset:0,target:window},a.prototype.getState=function(t,e,a,n){var o=this.$target.scrollTop(),i=this.$element.offset(),s=this.$target.height();if(null!=a&&"top"==this.affixed)return a>o?"top":!1;if("bottom"==this.affixed)return null!=a?o+this.unpin<=i.top?!1:"bottom":t-n>=o+s?!1:"bottom";var r=null==this.affixed,l=r?o:i.top,c=r?s:e;return null!=a&&a>=o?"top":null!=n&&l+c>=t-n?"bottom":!1},a.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(a.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},a.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},a.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,o=n.top,i=n.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(i=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof i&&(i=n.bottom(this.$element));var r=this.getState(s,e,o,i);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(a.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:s-e-i})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=a,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var a=t(this),n=a.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(a,n)})})}(jQuery),function(){"use strict";function t(t,e){t.state("landing",{url:"/",template:"<os-landing>"}).state("login",{url:"/login",template:"<os-login>"}).state("datasource",{url:"/datasource",template:"<os-datasource>"}).state("tools",{url:"/tools/{datasource}",template:"<os-tools>"}).state("metadata",{url:"/metadata/{datasource}",template:"<os-metadata>"}).state("history",{url:"/history/{datasource}",template:"<os-history>"}).state("plsr",{url:"/plsr/{datasource}",template:"<os-plsr>"}).state("pca",{url:"/pca/{datasource}",template:"<os-pca>"}).state("markers",{url:"/markers/{datasource}",template:"<os-markers>"}).state("pathways",{url:"/pathways/{datasource}",template:"<os-pathways>"}).state("timelines",{url:"/timelines/{datasource}",template:"<os-timelines>"}).state("compare",{url:"/compare/{datasource}",template:"<os-compare>"}),e.otherwise("/")}t.$inject=["$stateProvider","$urlRouterProvider"],angular.module("oncoscape").config(t)}(),function(){"use strict";angular.module("oncoscape").constant("d3",d3).constant("cytoscape",cytoscape).constant("signals",signals).constant("SockJS",SockJS).constant("domain",document.domain).constant("$",$)}(),function(){"use strict";function t(t,e){t.debugEnabled(!0),e.allowHtml=!0,e.timeOut=3e3,e.positionClass="toast-top-right",e.preventDuplicates=!0,e.progressBar=!0}t.$inject=["$logProvider","toastrConfig"],angular.module("oncoscape").config(t)}(),angular.module("oncoscape").run(["$templateCache",function(t){t.put("app/components/datasource/datasource.html",'<section class="datasource"><div class="container"><div class="row"><h2>Data Sources</h2><p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.</p></div><div class="row"><ul><li ng-repeat="dataset in vm.datasets" class="col-md-6"><img ng-src="/assets/images/datasets/{{dataset}}.png"><h2>{{dataset}}</h2><p>Lorem ipsum dolor sit amet, cras eu mollis vivamus iv, ad sollicitudin rhoncus dui proin fort numa sar.</p><nobr><a href="" ng-click="vm.explore(\'tools\',dataset)">Explore</a> &nbsp;|&nbsp; <a href="" ng-click="vm.explore(\'metadata\',dataset)">Learn More</a></nobr></li></ul></div></div><br><br></section>'),t.put("app/components/compare/compare.html",'<section class="compare-v50"><os-plsr></os-plsr></section><section class="compare-v50"><os-pca></os-pca></section>'),t.put("app/components/footer/footer.html",'<footer class="footer container"><div class="row"><div class="col-xs-12 col-sm-6"><img class="footer-logo" src="/assets/images/logo-fred-hutchinson-cancer-research-center.png" alt="Fred Hutchinson Cancer Research Center"> <img class="footer-logo" src="/assets/images/logo-university-of-washington-medicine.png" alt="UW Medicine"> <img class="footer-logo" src="/assets/images/logo-seattle-cancer-care-alliance.png" alt="Seattle Cancer Care Alliance"></div><div class="col-xm-12 col-sm-6 text-right"><a href="https://www.facebook.com/STTRCancer" target="_blank"><img class="footer-icon" src="/assets/images/sttr-facebook-out.png" alt="Facebook"></a> <a href="https://twitter.com/sttrcancer" target="_blank"><img class="footer-icon" src="/assets/images/sttr-twitter-out.png" alt="Twitter"></a> <a href="https://plus.google.com/+fredhutch/videos" target="_blank"><img class="footer-icon" src="/assets/images/sttr-youtube-out.png" alt="YouTube"></a> <a href="http://instagram.com/FredHutch" target="_blank"><img class="footer-icon" src="/assets/images/sttr-instagram-out.png" alt="Instagram"></a> <a href="http://www.linkedin.com/company/fred-hutchinson-cancer-research-center/careers?trk=top_nav_careers" target="_blank"><img class="footer-icon" src="/assets/images/sttr-linkedin-out.png" alt="LinkedIn"></a> <a href="https://plus.google.com/116048577052683099154/posts" target="_blank"><img class="footer-icon" src="/assets/images/sttr-google-out.png" alt="Google+"></a></div></div></footer>'),t.put("app/components/filters/filters.html",'<section id="filter-dropdown" class="filters container"><div class="filters-tree" id="filters-chart"></div><button class="btn btn-primary" ng-click="vm.close()" style="position: absolute; bottom:0px; left:50%;border-radius: 0px;">Close Cohort Panel</button><div class="nav-divider" style="min-height:3px;"></div></section>'),t.put("app/components/header/header.html",'<nav class="navbar navbar-inverse navbar-fixed-top"><div class="container-fluid"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="#"><img alt="Brand" src="/assets/images/logo.png" style="max-height:50px;"></a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"><ul class="nav navbar-nav navbar-right"><li><a href="" ng-click="vm.toolsClick()"><span class="glyphicon glyphicon-signal"></span>Tools</a></li><li><a href="" ng-click="vm.cohortClick()"><span class="glyphicon glyphicon-th"></span>Cohorts</a></li><li><a href="#datasource"><span class="glyphicon glyphicon-equalizer"></span>Data Sources</a></li><li><a href="#datasource"><span class="glyphicon glyphicon-user"></span>Account</a></li><li><a href="#datasource"><span class="glyphicon glyphicon-question-sign"></span>Help</a></li></ul></div></div></nav>'),t.put("app/components/history/history.html",'<section class="history container container-filters"><h2>Patient History ({{vm.datasource}})</h2><div class="row"><div class="col-xs-3" style="padding-right:20px;"><label>Age At diagnosis</label><div range-slider="" min="vm.diagnosisMinValue" model-min="vm.diagnosisMin" max="vm.diagnosisMaxValue" model-max="vm.diagnosisMax" show-values="true" attach-handle-values="true" on-handle-up="vm.applyFilter()"></div></div><div class="col-xs-3" style="padding-right:20px;"><label>Survival</label><div range-slider="" min="vm.survivalMinValue" model-min="vm.survivalMin" max="vm.survivalMaxValue" model-max="vm.survivalMax" show-values="true" attach-handle-values="true" on-handle-up="vm.applyFilter()"></div></div><div class="col-xs-3" style="padding-right:20px"><label>Search</label> <input type="text" class="ngrs-range-slider" style="width: 100%;" ng-model="vm.search"></div><div class="col-xs-3"><label>Create Cohort</label><div class="input-group"><input type="text" class="form-control" placeholder="Cohort Name" style="height:29px;" ng-model="vm.cohort"> <span class="input-group-btn"><button class="btn btn-primary" type="button" style="height:29px;" ng-click="vm.createCohort()">Go!</button></span></div></div></div></section><section class="container-filter-toggle"><img src="/assets/images/arrow_down.png" ng-click="vm.toggleFilter()"></section><section class="history container" style="padding-top:20px;"><table id="history-datatable" class="table table-striped table-bordered" cellspacing="0"><thead><tr><th ng-repeat="col in vm.colnames">{{col}}</th></tr></thead><tbody><tr ng-repeat="row in vm.rows"><td ng-repeat="datum in row track by $index">{{datum}}</td></tr></tbody></table></section>'),t.put("app/components/landing/landing.html",'<div class="landing container"><div class="row" style="padding-top:20px;"><h2>Bridging Cancer Research and Clinical Care</h2></div><div class="row" style="padding-top:20px;"><div class="col-sm-8"><p>Oncoscape is developed at the Fred Hutchinson Cancer Research Center under the auspices of the Solid Tumor Translational Research initiative. Oncoscape is a web-based, menu-driven analysis and visualization platform for large-scale, heterogeneous clinical and molecular patient timeline data as exemplified by the Fred Hutch HIDRA database. Oncoscape was conceived, and is managed, by a Steering Committee comprising: <a href="https://www.fredhutch.org/en/labs/profiles/holland-eric.html">Eric Holland</a>, <a href="http://www.sttrcancer.org/en/contact-us/horse-grant-bio.html">Desert Horse-Grant</a>, <a href="https://www.fredhutch.org/en/diseases/featured-researchers/fearn-paul.html">Paul Fearn</a>, <a href="https://www.linkedin.com/in/paul-shannon-a9478166">Paul Shannon</a>, <a href="https://www.linkedin.com/in/lisa-mcferrin-9758b029">Lisa McFerrin</a>, and <a href="https://www.linkedin.com/in/hbolouri">Hamid Bolouri</a>.</p><p class="">Through its easy point-and-click browser interface, Oncoscape will become an essential tool for doctors and researchers interested in:</p><ul class=""><li>Comparing patients or populations across an array of features, like genetic alterations (CNV, IHC, sequencing, expression) or clinical elements (treatment regimens, diagnostics, outcomes)</li><li>Defining cohorts based on selected traits – identifying “patients like me”</li><li>Aligning patient histories according to timeline events: diagnosis, treatment, progression, survival</li><li>Performing powerful and integrated statistical analysis: Principle Component Analysis, Partial least squares regression, Kaplan-Meier curves, enrichment scores</li><li>Creating high quality visualizations of molecular/clinical data</li></ul><p class="">By providing a portal equipped with rich data, powerful statistics and a simple interface, Oncoscape not only empowers users to quickly answer questions themselves but also expedites the process of discovering novel patterns and relationships. This can lead to numerous possible findings, including optimized drug therapies for individual patients, identification of novel regulatory pathways, or even the need to reassess adherence strategies.</p></div><div class="col-sm-4"><os-login></os-login></div></div></div>'),t.put("app/components/loader/loader.html",'<div class="loader-modal"><div class="loader"><div class="loader__bar"></div><div class="loader__bar"></div><div class="loader__bar"></div><div class="loader__bar"></div><div class="loader__bar"></div><div class="loader__ball"></div></div></div>'),t.put("app/components/login/login.html",'<form class="login"><h3 class="login-header">Login</h3><div class="login-body"><div class="alert alert-danger" role="alert" ng-show="vm.hasError"><span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> <span class="sr-only">Error:</span> Invalid Credentials</div><fieldset class="form-group"><span for="domain" class="small">Affiliation</span><select id="domain" class="form-control" ng-options="option.name for option in vm.domains track by option.name" ng-model="vm.user.domain"></select></fieldset><fieldset class="form-group"><span class="form-control-label small" for="username">Username</span> <input id="username" class="form-control input-sm" type="text" placeholder="Username" ng-model="vm.user.name"></fieldset><fieldset class="form-group" ng-show="vm.user.domain.name!=\'Guest\'"><span class="form-control-label small" for="password">Password</span> <input id="password" class="form-control" type="password" placeholder="Password" ng-model="vm.user.password"></fieldset><button class="btn btn-default" ng-click="vm.login()">Login</button></div></form>'),t.put("app/components/markers/markers.html",'<section class="markers container container-filters"><h2>Markers + Patients ({{vm.datasource}})</h2><div class="row"><div class="col-xs-3" style="padding-right:20px;"><label>Interactive Mode</label><div class="dropdown bs-dropdown"><button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">{{vm.optInteractiveMode.name}} <span class="caret"></span></button><ul class="dropdown-menu" aria-labelledby="dropdownMenu1" style="width:100%"><li ng-repeat="item in vm.optInteractiveModes" ng-click="vm.optInteractiveMode=item">{{item.name}}</li></ul></div></div><div class="col-xs-3" style="padding-right:20px;"><label>Layout Options</label><div class="dropdown bs-dropdown"><button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">{{vm.optPatientLayout.name}} <span class="caret"></span></button><ul class="dropdown-menu filter-list" aria-labelledby="dropdownMenu1" style="width:100%"><li style="padding:5px;font-weight:600;">Patient Distribution</li><li ng-repeat="item in vm.optPatientLayouts" class="radio" style="padding-left:10px"><label><input type="radio" name="patientType" ng-click="item.fn(item)">{{item.name}}</label></li></ul></div></div><div class="col-xs-3" style="padding-right:20px;"><label>Color Options</label><div class="dropdown bs-dropdown"><button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Patients + Edges <span class="caret"></span></button><ul class="dropdown-menu filter-list" aria-labelledby="dropdownMenu1" style="width:100%"><li style="padding:5px;font-weight:600;">Patients Colors</li><li ng-repeat="item in vm.optNodeColors" class="radio" style="padding-left:10px"><label><input type="radio" name="patientType" ng-click="item.fn(item);"> {{item.name}}</label></li><li><hr></li><li style="padding:5px;font-weight:600;">Edge Colors</li><li ng-repeat="item in vm.optEdgeColors"><button class="btn btn-default filter-button {{item.class}}" ng-click="item.fn(item); $event.stopPropagation();">{{item.name}} ({{item.state}})</button></li></ul></div></div><div class="col-xs-3"><label>Create Cohort</label><div class="input-group"><input type="text" class="form-control" placeholder="Cohort Name" style="height:29px;" ng-model="vm.cohort"> <span class="input-group-btn"><button class="btn btn-primary" type="button" style="height:29px;" ng-click="vm.createCohort()">Go!</button></span></div></div></div></section><section class="container-filter-toggle"><img src="/assets/images/arrow_down.png" ng-click="vm.toggleFilter()"></section><section id="markers-chart" class="markers container-fluid container-content"></section><div class="modal fade pathways" id="gbm-webpage" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel">{{vm.tip}}</h4></div><iframe class="modal-iframe" ng-src="{{vm.frame}}"></iframe></div></div></div><div class="markers container-legand"><ul class="legand"><li style="padding:5px;font-weight:600;">Node Colors</li><li ng-repeat="item in vm.legandNodes"><div class="circle {{item.color}}"></div>{{item.name}}</li><li><hr></li><li style="padding:5px;font-weight:600;">Edge Colors</li><li ng-repeat="item in vm.optEdgeColors"><button class="btn btn-default filter-button {{item.class}}" ng-click="item.fn(item); $event.stopPropagation();">{{item.name}} ({{item.state}})</button></li></ul><ul class="legand" ng-if="vm.patient"><li><hr></li><li style="padding:5px;font-weight:600;">Patient Information</li><li>PID: {{vm.patient[0]}}</li><li>SID: {{vm.patient[1]}}</li><li>GENDER: {{vm.patient[2]}}</li><li>STATUS: {{vm.patient[6]}}</li><li>DIAGNOSED: {{vm.patient[4]}} years old</li><li>SURVIVED: {{vm.patient[3]}} years</li><li>PROGRESSION: {{vm.patient[5]}}</li><li><hr></li><li style="padding:5px;font-weight:600;">Genes ({{vm.patientChromosomes.length}})</li><li><span ng-repeat="item in vm.patientChromosomes">{{item}} |</span></li></ul></div>'),t.put("app/components/metadata/metadata.html",'<section class="metadata container container-filters"><h2>Metadata ({{vm.dataset}})</h2><div class="row"><div class="col-xs-9" style="padding-right: 60px;">{{vm.dataset}} raw data was provided by <a href="http://cancergenome.nih.gov/">The Cancer Genome Atlas</a> on MM/DD/YYY. Processing of data was conducted by the <a href="http://www.sttrcancer.org/en.html">Solid Tumor Translational Research Organization</a> in conjuntion with the <a href="http://www.fhcrc.org">Fred Hutchinson Cancer Research Center</a>, <a href="http://www.uwmedicine.org/">UW Medicine</a> and <a href="http://www.scca.org">The Seattle Cancer Care Alliance</a>. For information on variables, units and summary choices review the <a>Code Books</a>.</div><div class="col-xs-3" style="margin: 10px 0 30px;"><label>Search</label> <input type="text" class="ngrs-range-slider ngrs-range-slider-no-pad" style="width:100%" ng-model="vm.search"></div></div></section><section class="container-filter-toggle"><img src="/assets/images/arrow_down.png" ng-click="vm.toggleFilter()"></section><section class="metadata container" style="padding-top:20px;"><table id="metadata-datatable" class="table table-striped table-bordered" cellspacing="0"><thead><tr><th ng-repeat="col in vm.colnames">{{col}}</th></tr></thead><tbody><tr ng-repeat="row in vm.rows"><td ng-repeat="datum in row track by $index">{{datum}}</td></tr></tbody></table></section>'),t.put("app/components/pathways/pathways.html",'<section class="pathways container container-filters"><h2>Pathways ({{vm.datasource}})</h2><div class="row"><div class="col-xs-4" style="padding-right:20px;"><label>Search</label> <input type="text" class="ngrs-range-slider" style="width:100%" ng-model="vm.search"></div><div class="col-xs-4"><label>Create Cohort</label><div class="input-group"><input type="text" class="form-control" placeholder="Cohort Name" style="height:29px;" ng-model="vm.cohort"> <span class="input-group-btn"><button class="btn btn-primary" type="button" style="height:29px;" ng-click="vm.createCohort()">Go!</button></span></div></div></div></section><section class="container-filter-toggle"><img src="/assets/images/arrow_down.png" ng-click="vm.toggleFilter()"></section><section id="gbm-chart" class="gbm container-fluid container-content"></section><div class="modal fade pathways" id="gbm-webpage" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel">{{vm.tip}}</h4></div><iframe class="modal-iframe" ng-src="{{vm.frame}}"></iframe></div></div></div><section class="markers container-legand"><ul class="legand"><li style="padding:5px;font-weight:600;">Legend</li><li style="border:0px solid green; border-left-width:10px; padding-left:10px;margin-bottom:1px;">Activation</li><li style="border:0px solid red; border-left-width:10px; padding-left:10px;margin-bottom:1px;">Inhibition</li><li style="border:0px solid #38347B; border-left-width:10px; padding-left:10px;margin-bottom:1px;">Modification</li><li style="border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;">Genes</li></ul><ul class="legand" ng-if="vm.tip"><li><hr></li><li style="padding:5px;font-weight:600;">Tip</li><li>View {{vm.tip}}</li></ul></section>'),t.put("app/components/plsr/plsr.html",'<section class="plsr container container-filters"><h2>Partial Least Squares Regression ({{vm.datasource}})</h2><div class="row"><div class="col-xs-3" style="padding-right:20px;"><label>Gene Set</label><div class="dropdown bs-dropdown"><button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">{{vm.geneSet}} <span class="caret"></span></button><ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li ng-repeat="item in vm.geneSets" ng-click="vm.geneSet=item">{{item}}</li></ul></div></div><div class="col-xs-3" style="padding-right:20px;"><label>Age At Diagnosis</label><div range-slider="" min="vm.deathMinValue" model-min="vm.deathMinFilter" max="vm.deathMaxValue" model-max="vm.deathMaxFilter" show-values="true" attach-handle-values="true" on-handle-up="vm.update()"></div></div><div class="col-xs-3" style="padding-right:20px;"><label>Survival</label><div range-slider="" min="vm.survivalMinValue" model-min="vm.survivalMinFilter" max="vm.survivalMaxValue" model-max="vm.survivalMaxFilter" show-values="true" attach-handle-values="true" on-handle-up="vm.update()"></div></div><div class="col-xs-3"><label>Create Cohort</label><div class="input-group"><input type="text" class="form-control" placeholder="Cohort Name" style="height:29px;" ng-model="vm.cohort"> <span class="input-group-btn"><button class="btn btn-primary" type="button" style="height:29px;" ng-click="vm.createCohort()">Go!</button></span></div></div></div></section><section class="container-filter-toggle"><img src="/assets/images/arrow_down.png" ng-click="vm.toggleFilter()"></section><section id="plsr-chart" class="plsr container-fluid container-content"></section><div class="modal fade pathways" id="plsr-webpage" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel">{{vm.tip}}</h4></div><iframe class="modal-iframe" ng-src="{{vm.frame}}"></iframe></div></div></div><section class="markers container-legand"><ul class="legand"><li style="padding:5px;font-weight:600;">Legend</li><li style="border:0px solid #1396de; border-left-width:10px; padding-left:10px;margin-bottom:1px;">Age At Diagnosis</li><li style="border:0px solid #38347b; border-left-width:10px; padding-left:10px;margin-bottom:1px;">Survival</li><li><span class="circle" style="background-color:black;width:10px;height: 10px;margin-right:10px;"></span>Genes</li></ul></section>'),t.put("app/components/pca/pca.html",'<section class="pca container container-filters"><h2>Principal Component Analysis ({{vm.datasource}})</h2><div class="row"><div class="col-xs-4" style="padding-right:20px;"><label>Gene Set</label><div class="dropdown bs-dropdown"><button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">{{vm.geneSet}} <span class="caret"></span></button><ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li ng-repeat="item in vm.geneSets" ng-click="vm.geneSet=item">{{item}}</li></ul></div></div><div class="col-xs-4" style="padding-right:20px;"><label>Color Options</label><div class="dropdown bs-dropdown"><button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Patients Colors <span class="caret"></span></button><ul class="dropdown-menu filter-list" aria-labelledby="dropdownMenu1" style="width:100%"><li ng-repeat="item in vm.optNodeColors" class="radio" style="padding-left:10px"><label><input type="radio" name="patientType" ng-click="item.fn(item);"> {{item.name}}</label></li></ul></div></div><div class="col-xs-4"><label>Create Cohort</label><div class="input-group"><input type="text" class="form-control" placeholder="Cohort Name" style="height:29px;" ng-model="vm.cohort"> <span class="input-group-btn"><button class="btn btn-primary" type="button" style="height:29px;" ng-click="vm.createCohort()">Go!</button></span></div></div></div></section><section class="container-filter-toggle"><img src="/assets/images/arrow_down.png" ng-click="vm.toggleFilter()"></section><section id="pca-chart" class="pca container-fluid" style="margin:50px 100px;height: 60vh"></section><section class="markers container-legand"><ul class="legand"><li style="padding:5px;font-weight:600;">Legend</li><li><span class="circle" style="background-color:black;width:10px;height: 10px;margin-right:10px;"></span>Patients</li><li><hr></li><li style="padding:5px;font-weight:600;">Proportion of Variance</li><li>PC1: {{vm.pc1*100}}%</li><li>PC2: {{vm.pc2*100}}%</li></ul></section>'),
t.put("app/components/timelines/timelines.html",'<section class="timelines container container-filters"><h2>Timelines ({{vm.datasource}})</h2><div class="row"><div class="col-xs-4" style="padding-right:20px;"><label>Search</label> <input type="text" class="ngrs-range-slider" style="width:100%" ng-model="vm.search"></div></div></section><section class="container-filter-toggle"><img src="/assets/images/arrow_down.png" ng-click="vm.toggleFilter()"></section><section id="timelines-chart" class="timelines container-fluid container-content"></section><section class="markers container-legand"><ul class="legand"><li style="padding:5px;font-weight:600;">Events</li><li style="border:0px solid green; border-left-width:10px; padding-left:10px;margin-bottom:1px;">Birth</li><li style="border:0px solid red; border-left-width:10px; padding-left:10px;margin-bottom:1px;">Encounter</li><li style="border:0px solid #38347B; border-left-width:10px; padding-left:10px;margin-bottom:1px;">Diagnosis</li><li style="border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;">Procedure</li><li style="border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;">Pathology</li><li style="border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;">Radiation</li><li style="border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;">Drug</li><li style="border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;">Progression</li><li style="border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;">Status</li><li style="border:0px solid #056ce1; border-left-width:10px; padding-left:10px;margin-bottom:1px;">Absent</li></ul></section>'),t.put("app/components/tools/tools.html",'<section class="datasource"><div class="container"><div class="row"><h2>Tools ({{vm.datasource}})</h2><p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.</p></div><div class="row"><ul><li ng-repeat="tool in vm.tools" class="col-sm-6"><img ng-src="/assets/images/datasets/{{tool.img}}"><h2>{{tool.name}}</h2><p>Lorem ipsum dolor sit amet, cras eu mollis vivamus, ad sollicitudin rhoncus dui proin.</p><a href="" ng-click="vm.explore(tool.route, vm.datasource)">Explore</a></li></ul></div></div></section>')}]);
//# sourceMappingURL=../maps/scripts/app-18793e5dd0.js.map
